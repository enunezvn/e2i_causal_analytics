# Feast Feature Store Configuration for E2I Causal Analytics
# Documentation: https://docs.feast.dev/reference/feature-store-yaml

project: e2i_causal_analytics
provider: local
registry: data/registry.db

# Offline store: Supabase (PostgreSQL)
# Used for historical feature retrieval and training data generation
offline_store:
  type: postgres
  host: ${SUPABASE_DB_HOST:-localhost}
  port: ${SUPABASE_DB_PORT:-5432}
  database: ${SUPABASE_DB_NAME:-postgres}
  user: ${SUPABASE_DB_USER:-postgres}
  password: ${SUPABASE_DB_PASSWORD:-}
  sslmode: ${SUPABASE_DB_SSLMODE:-prefer}
  # Use public schema for feature tables
  db_schema: public

# Online store: Redis
# Used for low-latency feature serving during inference
online_store:
  type: redis
  connection_string: ${REDIS_URL:-redis://localhost:6382}

# Entity key serialization
entity_key_serialization_version: 3
