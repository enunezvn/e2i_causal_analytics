# Tier 1-5 Agent Test Results

**Generated**: 2026-01-29T23:13:38.505625

## Test Configuration

- **Tiers Tested**: all (1-5)
- **Agents Tested**: all
- **Tier0 Cache**: auto-generated
- **Observability**: skipped
- **Timeout**: 30.0s per agent

## Results

```

======================================================================
TIER 1-5 AGENT TESTING FRAMEWORK
======================================================================
  Loading tier0 state from cache: /opt/e2i_causal_analytics/scripts/tier0_output_cache/latest.pkl
Tier0 Experiment ID: tier0_e2e_955d1184
Data Source Validation: Enabled
Agents to Test: 12
Agents: orchestrator, tool_composer, causal_impact, gap_analyzer, heterogeneous_optimizer, drift_monitor, experiment_designer, health_score, prediction_synthesizer, resource_optimizer, explainer, feedback_learner

Tier0 Data:
  eligible_df: 600 rows x 14 columns
  trained_model: LogisticRegression
  validation_metrics: ['accuracy', 'precision', 'recall', 'f1_score', 'f1_macro', 'f1_weighted', 'precision_class_0', 'precision_class_1', 'recall_class_0', 'recall_class_1', 'roc_auc', 'pr_auc', 'brier_score']

======================================================================
AGENT: ORCHESTRATOR (Tier 1 - Orchestration)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: What factors drive therapy discontinuation for Kisqali?
    ‚Ä¢ messages_count: 1
    ‚Ä¢ current_agent: None
    ‚Ä¢ agent_outputs_keys: [0 items]
    ‚Ä¢ experiment_id: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent orchestrator instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (OrchestratorState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 0 required fields
        Actual:   0/0 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 8 checks pass
        Actual:   8/8 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.6449          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           16/49           -               -         
    contract_valid            True            True            ‚úÖ         

  üí° ORCHESTRATOR Analysis:
    ‚Ä¢ Query routed to 1 agents
    ‚Ä¢ Routing confidence: 0.8700

  üìã Key Output Fields:
    status: completed
    query_id: q-674ae1ac6f3b
    response_text: Analysis shows that HCP engagement has a significant positive effect on patient conversion (ATE=0.12, p<0.01).
    response_confidence: 0.8700
    agents_dispatched: ['causal_impact']
    successful_agents: ['causal_impact']
    ... and 20 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 8/8 passed
    ‚Ä¢ Required output fields: status, response_text
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['response_text', 'successful_agents', 'failed_agents', 'has_partial_failure', 'failure_details', 'orchestrator_error', 'orchestrator_error_type', 'timestamp', 'intent_classified', 'intent_confidence']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - orchestrator completed successfully (0.6s)
  ------------------------------------------------------------

======================================================================
AGENT: TOOL_COMPOSER (Tier 1 - Orchestration)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Compare the causal impact of HCP visits vs prior treatments on discontinuation for Kisqali, and identify high-risk segments
    ‚Ä¢ experiment_id: tier0_e2e_955d1184
    ‚Ä¢ available_tools_count: 4

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent tool_composer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ToolComposerState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 3 required fields
        Actual:   3/3 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            24.7732         -               -         
    agent_tier                1               -               -         
    required_fields           3/3             -               -         
    optional_fields           10/35           -               -         
    contract_valid            True            True            ‚úÖ         
    confidence                0.8500          -               -         

  üí° TOOL_COMPOSER Analysis:
    ‚Ä¢ Composed N/A tools for query execution
    ‚Ä¢ Execution plan generated successfully

  üìã Key Output Fields:
    status: SUCCESS
    success: True
    response: The analysis indicates that both HCP visits and prior treatments have a similar causal impact on the discontinuation of Kisqali, with an average treatment effect (ATE) of 0.12. This effect is statistically significant with a p-value of 0.001, suggesting that both factors equally contribute to the likelihood of discontinuation. Additionally, high-risk segments for discontinuation have been identified, with entity E001 being in the high-risk tier with a risk score of 0.82. These insights can guide targeted interventions to reduce discontinuation rates.
    confidence: 0.8500
    composition_id: comp_c539177d
    sub_questions_count: 4
    ... and 10 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: success
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['sub_questions_count', 'total_duration_ms', 'metadata']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - tool_composer completed successfully (24.8s)
  ------------------------------------------------------------
üèÉ View run analysis_20260129_231156 at: http://localhost:5000/#/experiments/219/runs/424573c3f9d240f599f2b0143855b07b
üß™ View experiment at: http://localhost:5000/#/experiments/219

======================================================================
AGENT: CAUSAL_IMPACT (Tier 2 - Causal Analytics)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: What is the causal effect of hcp_visits on discontinuation_flag?
    ‚Ä¢ query_id: a17b85e9-2001-4240-b388-b34b103f0f68
    ‚Ä¢ treatment_var: hcp_visits
    ‚Ä¢ outcome_var: discontinuation_flag
    ‚Ä¢ confounders_count: 5
    ‚Ä¢ data_source: patient_journeys
    ‚Ä¢ experiment_id: tier0_e2e_955d1184
    ‚Ä¢ data_rows: 600
    ‚Ä¢ data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent causal_impact instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (CausalImpactOutput)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 19 required fields
        Actual:   19/19 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            6.1067          -               -         
    agent_tier                2               -               -         
    required_fields           19/19           -               -         
    optional_fields           12/29           -               -         
    contract_valid            True            True            ‚úÖ         
    confidence                0.8100          -               -         
    p_value                   0.0010          -               -         

  üí° CAUSAL_IMPACT Analysis:
    ‚Ä¢ Average Treatment Effect (ATE): 0.2988
    ‚Ä¢ Statistical significance: p=0.0010

  üìã Key Output Fields:
    status: completed
    executive_summary: Analysis identified a statistically significant positive causal effect (ATE: 0.2988) using CausalForestDML. Overall confidence in this finding is 81%.
    query_id: a17b85e9-2001-4240-b388-b34b103f0f68
    causal_narrative: The causal analysis using CausalForestDML estimates an average treatment effect (ATE) of 0.30 (95% CI: [0.20, 0.40]). This effect is classified as medium and is statistically significant. The effect passed 4 out of 5 robustness tests, indicating the finding is likely genuine and not spurious. The E-value of 2.03 suggests moderate robustness to unmeasured confounding. Based on these findings, we recommend proceeding with interventions targeting this treatment variable, with careful monitoring of outcomes to validate the predicted effects in practice.
    ate_estimate: 0.2988
    confidence_interval: (0.20075573212524708, 0.39675573212524706)
    ... and 25 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - causal_impact completed successfully (6.1s)
  ------------------------------------------------------------
üèÉ View run gap_analysis_20260129_231202 at: http://localhost:5000/#/experiments/220/runs/e3b644fed20141a6a7bf82d0f97edccf
üß™ View experiment at: http://localhost:5000/#/experiments/220

======================================================================
AGENT: GAP_ANALYZER (Tier 2 - Causal Analytics)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Identify performance gaps and ROI opportunities
    ‚Ä¢ metrics_count: 3
    ‚Ä¢ segments_count: 3
    ‚Ä¢ brand: Kisqali
    ‚Ä¢ time_period: current_quarter
    ‚Ä¢ gap_type: vs_potential
    ‚Ä¢ tier0_data_rows: 600
    ‚Ä¢ tier0_data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent gap_analyzer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (GapAnalyzerOutput)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 14 required fields
        Actual:   14/14 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.5619          -               -         
    agent_tier                2               -               -         
    required_fields           14/14           -               -         
    optional_fields           1/7             -               -         
    contract_valid            True            True            ‚úÖ         
    confidence                0.9000          -               -         

  üí° GAP_ANALYZER Analysis:
    ‚Ä¢ Identified 10 performance gaps
    ‚Ä¢ Total opportunity value: 796.1618

  üìã Key Output Fields:
    executive_summary: Identified 10 ROI opportunities across 3 segments with total addressable value of $235,620. Top opportunity: Close trx gap in 50-65 for $24,157 annual impact at 0.9x ROI.
    prioritized_opportunities: [10 items]
      [0]: {'rank': 1, 'gap': {'gap_id': 'age_group_50-65_trx_vs_potential', 'metric': 'trx', 'segment': 'age_group', 'segment_value': '50-65', 'current_value': 203.0, 'target_value': 284.2, 'gap_size': 81.19999999999999, 'gap_percentage': 28.57142857142857, 'gap_type': 'vs_potential'}, 'roi_estimate': {'gap_id': 'age_group_50-65_trx_vs_potential', 'estimated_revenue_impact': 24156.999999999993, 'estimated_cost_to_close': 12500.0, 'expected_roi': 0.9325599999999994, 'risk_adjusted_roi': 0.8393039999999995, 'payback_period_months': 6, 'confidence_interval': {'lower_bound': -0.3038497439742027, 'median': 1.2227233589711375, 'upper_bound': 12.679562173875505, 'probability_positive': 0.556, 'probability_target': 0.137}, 'attribution_level': 'shared', 'attribution_rate': 0.35, 'total_risk_adjustment': 0.09999999999999998, 'value_by_driver': {'trx_lift': 69019.99999999999}, 'confidence': 0.556, 'assumptions': ['Value driver: trx_lift', 'Unit value: $850/TRx', 'Attribution level: shared (35%)', 'Risk adjustment applied based on low-to-medium risk factors', 'Bootstrap CI from 1,000 Monte Carlo simulations', 'Market conditions assumed stable']}, 'recommended_action': 'Launch targeted sampling campaign in 50-65 (age_group) to drive TRx growth (top-decile target)'}... (+2 more keys)
    quick_wins: []
    strategic_bets: []
    total_addressable_value: 235620.0000
    total_gap_value: 796.1618
    ... and 9 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: executive_summary
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - gap_analyzer completed successfully (1.6s)
  ------------------------------------------------------------
üèÉ View run cate_analysis_20260129_231204 at: http://localhost:5000/#/experiments/218/runs/72cc2bfa6b5840a0b760016e072a42c9
üß™ View experiment at: http://localhost:5000/#/experiments/218

======================================================================
AGENT: HETEROGENEOUS_OPTIMIZER (Tier 2 - Causal Analytics)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Analyze heterogeneous treatment effects of hcp_visits
    ‚Ä¢ treatment_var: hcp_visits
    ‚Ä¢ outcome_var: discontinuation_flag
    ‚Ä¢ segment_vars_count: 3
    ‚Ä¢ effect_modifiers_count: 3
    ‚Ä¢ data_source: patient_journeys
    ‚Ä¢ filters: None
    ‚Ä¢ tier0_data_rows: 600
    ‚Ä¢ tier0_data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent heterogeneous_optimizer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (HeterogeneousOptimizerOutput)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 7 required fields
        Actual:   7/7 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            3.2496          -               -         
    agent_tier                2               -               -         
    required_fields           7/7             -               -         
    optional_fields           10/33           -               -         
    contract_valid            True            True            ‚úÖ         
    overall_ate               -0.0668         -               -         
    heterogeneity_score       0.4086          -               -         
    confidence                0.7000          -               -         

  üí° HETEROGENEOUS_OPTIMIZER Analysis:
    ‚Ä¢ Overall ATE: -0.0668
    ‚Ä¢ Heterogeneity score: 0.4086

  üìã Key Output Fields:
    overall_ate: -0.0668
    heterogeneity_score: 0.4086
    executive_summary: Heterogeneous treatment effect analysis complete. Overall treatment effect: -0.067. Heterogeneity score: 0.41 (0=uniform, 1=highly heterogeneous). Top high-responder: journey_status_transitioning (CATE: -0.099, 6.6% of population). Top low-responder: geographic_region_northeast (CATE: -0.066, 11.7% of population). Treatment effect heterogeneity detected (ATE: -0.067). Identified 4 high-responder segments and 4 low-responder segments. Recommend decreasing treatment in 8 segments to optimize resource allocation. Expected total outcome lift from reallocation: 32.1 units. Implementing optimal allocation policy could yield 32.1 units of incremental outcome.
    status: completed
    high_responders: [4 items]
      [0]: {'segment_id': 'journey_status_transitioning', 'responder_type': 'high', 'cate_estimate': -0.0992, 'defining_features': [{'variable': 'journey_status', 'value': 'transitioning', 'effect_size': 1.4847399818363876}]}... (+3 more keys)
    low_responders: [4 items]
      [0]: {'segment_id': 'geographic_region_northeast', 'responder_type': 'low', 'cate_estimate': -0.0657, 'defining_features': [{'variable': 'geographic_region', 'value': 'northeast', 'effect_size': 0.9828432074214163}]}... (+3 more keys)
    ... and 14 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/5 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['feature_importance', 'estimation_latency_ms', 'analysis_latency_ms']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - heterogeneous_optimizer completed successfully (3.2s)
  ------------------------------------------------------------
üèÉ View run marvelous-flea-826 at: http://localhost:5000/#/experiments/7/runs/d7a93de875d44433a568c7b184b833d1
üß™ View experiment at: http://localhost:5000/#/experiments/7

======================================================================
AGENT: DRIFT_MONITOR (Tier 3 - Monitoring)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Detect data and model drift in patient features
    ‚Ä¢ features_to_monitor_count: 10
    ‚Ä¢ model_id: tier0_e2e_955d1184
    ‚Ä¢ time_window: 30d
    ‚Ä¢ brand: Kisqali
    ‚Ä¢ significance_level: 0.05
    ‚Ä¢ tier0_data_rows: 600
    ‚Ä¢ tier0_data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent drift_monitor instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (DriftMonitorState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 9 required fields
        Actual:   9/9 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.2195          -               -         
    agent_tier                3               -               -         
    required_fields           9/9             -               -         
    optional_fields           6/28            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° DRIFT_MONITOR Analysis:
    ‚Ä¢ Overall drift score: 0.6590
    ‚Ä¢ Features with drift: 10
    ‚Ä¢ Recommended actions: 4

  üìã Key Output Fields:
    status: completed
    data_drift_results: [9 items]
      [0]: {'feature': 'geographic_region', 'drift_type': 'data', 'test_statistic': 8.0085, 'p_value': 0.0}... (+4 more keys)
    model_drift_results: [2 items]
      [0]: {'feature': 'prediction_scores', 'drift_type': 'model', 'test_statistic': 0.0733, 'p_value': 0.3958}... (+4 more keys)
    concept_drift_results: []
    overall_drift_score: 0.6590
    features_with_drift: [10 items]
    ... and 9 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/5 passed
    ‚Ä¢ Required output fields: overall_drift_score
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - drift_monitor completed successfully (0.2s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPERIMENT_DESIGNER (Tier 3 - Monitoring)
======================================================================

  üì• Input Summary:
    ‚Ä¢ business_question: Does personalized HCP outreach improve patient retention rates compared to standard outreach?
    ‚Ä¢ constraints_keys: [4 items]
    ‚Ä¢ available_data_keys: [3 items]
    ‚Ä¢ preregistration_formality: medium
    ‚Ä¢ max_redesign_iterations: 2
    ‚Ä¢ enable_validity_audit: True
    ‚Ä¢ brand: Kisqali

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent experiment_designer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ExperimentDesignState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 9 required fields
        Actual:   9/9 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            88.3138         -               -         
    agent_tier                3               -               -         
    required_fields           9/9             -               -         
    optional_fields           14/62           -               -         
    contract_valid            True            True            ‚úÖ         
    statistical_power         0.8000          -               -         

  üí° EXPERIMENT_DESIGNER Analysis:
    ‚Ä¢ Experiment design created with n=964
    ‚Ä¢ Statistical power: 0.8000

  üìã Key Output Fields:
    status: completed
    design_type: RCT
    design_rationale: An individual-level RCT provides the highest internal validity and is feasible within the constraints. It allows for direct measurement of the causal effect of personalized outreach on retention rates.
    treatments: [1 items]
    outcomes: [1 items]
    randomization_unit: individual
    ... and 19 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/5 passed
    ‚Ä¢ Required output fields: design_type
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['preregistration_document', 'redesign_iterations']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - experiment_designer completed successfully (88.3s)
  ------------------------------------------------------------
üèÉ View run gifted-skunk-562 at: http://localhost:5000/#/experiments/232/runs/e6975a58082543b0b70066afa5641155
üß™ View experiment at: http://localhost:5000/#/experiments/232

======================================================================
AGENT: HEALTH_SCORE (Tier 3 - Monitoring)
======================================================================

  üì• Input Summary:
    ‚Ä¢ scope: full
    ‚Ä¢ query: Check system health status
    ‚Ä¢ experiment_name: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent health_score instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (HealthScoreState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 7 required fields
        Actual:   7/7 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 10 checks pass
        Actual:   10/10 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.2595          -               -         
    agent_tier                3               -               -         
    required_fields           7/7             -               -         
    optional_fields           6/14            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° HEALTH_SCORE Analysis:
    ‚Ä¢ Health grade: A
    ‚Ä¢ Overall health score: 91.0000

  üìã Key Output Fields:
    status: completed
    overall_health_score: 91.0000
    health_grade: A
    component_health_score: 0.7000
    model_health_score: 1.0000
    pipeline_health_score: 1.0000
    ... and 7 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 10/10 passed
    ‚Ä¢ Required output fields: overall_health_score
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - health_score completed successfully (0.3s)
  ------------------------------------------------------------

======================================================================
AGENT: PREDICTION_SYNTHESIZER (Tier 4 - ML Predictions)
======================================================================

  üì• Input Summary:
    ‚Ä¢ entity_id: 98e0e815-8f70-4cfe-bba1-c5d91243b91a
    ‚Ä¢ prediction_target: discontinuation_risk
    ‚Ä¢ features_keys: [5 items]
    ‚Ä¢ entity_type: patient
    ‚Ä¢ time_horizon: 30d
    ‚Ä¢ models_to_use: None
    ‚Ä¢ ensemble_method: weighted
    ‚Ä¢ include_context: True
    ‚Ä¢ query: Predict discontinuation risk for patient 98e0e815-8f70-4cfe-bba1-c5d91243b91a
    ‚Ä¢ session_id: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent prediction_synthesizer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (PredictionSynthesizerState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 4 required fields
        Actual:   4/4 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0232          -               -         
    agent_tier                4               -               -         
    required_fields           4/4             -               -         
    optional_fields           7/21            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° PREDICTION_SYNTHESIZER Analysis:
    ‚Ä¢ Prediction summary: Prediction: 0.049 (95% CI: [-0.080, 0.178]). Confidence: low. Model agreement: weak across 2 models.

Risk Assessment: LOW
Recommendation: Continue standard engagement - no immediate action needed.
    ‚Ä¢ Models succeeded: 2

  üìã Key Output Fields:
    status: completed
    ensemble_prediction: {dict with 6 keys}
      point_estimate: 0.0494
      prediction_interval_lower: -0.0797
      prediction_interval_upper: 0.1784
      ... and 3 more keys
    individual_predictions: [2 items]
      [0]: {'model_id': 'tier0_e2e_955d1184', 'model_type': 'logistic_regression', 'prediction': 0.0, 'prediction_proba': [1.0, 9.462590558701826e-49]}... (+3 more keys)
    prediction_context:
      similar_cases: [0 items]
      feature_importance: {dict with 0 keys}
      historical_accuracy: 0.0000
      trend_direction: stable
    prediction_summary:
      Prediction: 0.049 (95% CI: [-0.080, 0.178]). Confidence: low. Model agreement: weak across 2 models.
      
      Risk Assessment: LOW
      Recommendation: Continue standard engagement - no immediate action needed.
    models_succeeded: 2
    ... and 5 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - prediction_synthesizer completed successfully (0.0s)
  ------------------------------------------------------------

======================================================================
AGENT: RESOURCE_OPTIMIZER (Tier 4 - ML Predictions)
======================================================================

  üì• Input Summary:
    ‚Ä¢ allocation_targets_count: 4
    ‚Ä¢ constraints_count: 1
    ‚Ä¢ resource_type: budget
    ‚Ä¢ objective: maximize_roi
    ‚Ä¢ solver_type: linear
    ‚Ä¢ run_scenarios: False
    ‚Ä¢ scenario_count: 3
    ‚Ä¢ query: Optimize budget allocation across territories
    ‚Ä¢ session_id: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent resource_optimizer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ResourceOptimizerState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 7 required fields
        Actual:   7/7 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.0761          -               -         
    agent_tier                4               -               -         
    required_fields           7/7             -               -         
    optional_fields           8/23            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° RESOURCE_OPTIMIZER Analysis:
    ‚Ä¢ Optimization completed: Optimization complete. Projected outcome: 470000 (ROI: 0.25). Recommended changes: 1 increases, 2 decreases.
    ‚Ä¢ Projected ROI: 0.2500

  üìã Key Output Fields:
    status: completed
    optimal_allocations: [4 items]
      [0]: {'entity_id': 'territory_midwest', 'entity_type': 'territory', 'current_allocation': 50000.0, 'optimized_allocation': 100000.0}... (+3 more keys)
    objective_value: 9.4000
    solver_status: optimal
    projected_total_outcome: 470000.0000
    projected_roi: 0.2500
    ... and 9 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/5 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - resource_optimizer completed successfully (1.1s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPLAINER (Tier 5 - Self-Improvement)
======================================================================

  üì• Input Summary:
    ‚Ä¢ analysis_results_count: 3
    ‚Ä¢ query: Explain the discontinuation risk analysis results
    ‚Ä¢ user_expertise: analyst
    ‚Ä¢ output_format: structured
    ‚Ä¢ focus_areas_count: 2
    ‚Ä¢ session_id: tier0_e2e_955d1184
    ‚Ä¢ memory_config_keys: [1 items]

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent explainer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ExplainerState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 6 required fields
        Actual:   6/6 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.8090          -               -         
    agent_tier                5               -               -         
    required_fields           6/6             -               -         
    optional_fields           6/37            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° EXPLAINER Analysis:
    ‚Ä¢ Executive summary: Analysis complete with 9 findings and 3 recommendations.

**Highlights:**
- Significant causal effect identified: ATE=0.127 (p=0.002)
- Effect is statistically significant with 95% CI [0.089, 0.165]
- ACTION: Design intervention targeting the identified causal mechanism

    ‚Ä¢ Key themes: 2

  üìã Key Output Fields:
    executive_summary:
      Analysis complete with 9 findings and 3 recommendations.
      
      **Highlights:**
      - Significant causal effect identified: ATE=0.127 (p=0.002)
      - Effect is statistically significant with 95% CI [0.089, 0.165]
      - ACTION: Design intervention targeting the identified causal mechanism
      
    status: completed
    detailed_explanation:
      ## Key Findings
      - Significant causal effect identified: ATE=0.127 (p=0.002)
      - Effect is statistically significant with 95% CI [0.089, 0.165]
      - Treatment (hcp_visits) increases outcome by 12.7% on average
      - Key confounders controlled: geographic_region, journey_status, journey_start_date
      - Model accuracy: 65.8%
      - ROC-AUC score: 0.782
      - Precision: 0.159, Recall: 0.636
      - F1 score: 0.255
      - No feature importance data available
      ... (5 more lines)
    narrative_sections: [2 items]
      [0]: {'section_type': 'finding', 'title': 'Key Findings', 'content': '- Significant causal effect identified: ATE=0.127 (p=0.002)\n- Effect is statistically significant with 95% CI [0.089, 0.165]\n- Treatment (hcp_visits) increases outcome by 12.7% on average\n- Key confounders controlled: geographic_region, journey_status, journey_start_date\n- Model accuracy: 65.8%\n- ROC-AUC score: 0.782\n- Precision: 0.159, Recall: 0.636\n- F1 score: 0.255\n- No feature importance data available', 'supporting_data': {'count': 9}}
    extracted_insights: [12 items]
      [0]: {'insight_id': '1', 'category': 'finding', 'statement': 'Significant causal effect identified: ATE=0.127 (p=0.002)', 'supporting_evidence': ['Source: causal_impact']}... (+3 more keys)
    key_themes: ['Analysis revealed 9 key findings', '3 actionable recommendations identified']
    ... and 7 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: executive_summary
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['timestamp']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - explainer completed successfully (0.8s)
  ------------------------------------------------------------

======================================================================
AGENT: FEEDBACK_LEARNER (Tier 5 - Self-Improvement)
======================================================================

  üì• Input Summary:
    ‚Ä¢ time_range_start: 2026-01-28T23:13:38.356979+00:00
    ‚Ä¢ time_range_end: 2026-01-29T23:13:38.356979+00:00
    ‚Ä¢ batch_id: batch_tier0_e2
    ‚Ä¢ focus_agents_count: 3

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent feedback_learner instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (FeedbackLearnerState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 4 required fields
        Actual:   4/4 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0666          -               -         
    agent_tier                5               -               -         
    required_fields           4/4             -               -         
    optional_fields           8/36            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° FEEDBACK_LEARNER Analysis:
    ‚Ä¢ Learning summary: Learning cycle complete. Processed 3 feedback items. Detected 0 patterns. Generated 0 recommendations. Applied 0 of 0 proposed updates.
    ‚Ä¢ Patterns detected: 0

  üìã Key Output Fields:
    learning_summary: Learning cycle complete. Processed 3 feedback items. Detected 0 patterns. Generated 0 recommendations. Applied 0 of 0 proposed updates.
    status: completed
    batch_id: batch_tier0_e2
    detected_patterns: []
    learning_recommendations: []
    priority_improvements: []
    ... and 13 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['feedback_count', 'pattern_count', 'recommendation_count', 'timestamp', 'training_reward', 'cognitive_context_used', 'dspy_available']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - feedback_learner completed successfully (0.1s)
  ------------------------------------------------------------

======================================================================
TEST SUMMARY
======================================================================

TIER RESULTS:
------------------------------------------------------------

  Tier 1 - Orchestration: ALL PASSED
    ‚úì orchestrator (644.9ms)
    ‚úì tool_composer (24.77s)

  Tier 2 - Causal Analytics: ALL PASSED
    ‚úì causal_impact (6.11s)
    ‚úì gap_analyzer (1.56s)
    ‚úì heterogeneous_optimizer (3.25s)

  Tier 3 - Monitoring: ALL PASSED
    ‚úì drift_monitor (219.5ms)
    ‚úì experiment_designer (88.31s)
    ‚úì health_score (259.5ms)

  Tier 4 - ML Predictions: ALL PASSED
    ‚úì prediction_synthesizer (23.2ms)
    ‚úì resource_optimizer (1.08s)

  Tier 5 - Self-Improvement: ALL PASSED
    ‚úì explainer (809.0ms)
    ‚úì feedback_learner (66.6ms)

------------------------------------------------------------

OVERALL: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100.0%
  Total Agents: 12
  Passed: 12
  Failed: 0
  Total Time: 139.45s
  Avg Time/Agent: 11.62s

QUALITY GATES:
  Passed: 12/12
  Failed: 0/12

CONTRACT VALIDATION:
  Valid Contracts: 12/12
  Total Type Errors: 0

OBSERVABILITY:
  Traces Created: 0
  Traces Verified: 0
```
