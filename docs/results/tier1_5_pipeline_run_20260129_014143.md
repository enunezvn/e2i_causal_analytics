# Tier 1-5 Agent Test Results

**Generated**: 2026-01-29T01:41:43.361372

## Test Configuration

- **Tiers Tested**: all (1-5)
- **Agents Tested**: all
- **Tier0 Cache**: auto-generated
- **Observability**: enabled
- **Timeout**: 30.0s per agent

## Results

```

======================================================================
TIER 1-5 AGENT TESTING FRAMEWORK
======================================================================
  Loading tier0 state from cache: /opt/e2i_causal_analytics/scripts/tier0_output_cache/latest.pkl
Tier0 Experiment ID: tier0_e2e_e480790c
Data Source Validation: Enabled
Opik: Healthy
Agents to Test: 12
Agents: orchestrator, tool_composer, causal_impact, gap_analyzer, heterogeneous_optimizer, drift_monitor, experiment_designer, health_score, prediction_synthesizer, resource_optimizer, explainer, feedback_learner

Tier0 Data:
  eligible_df: 600 rows x 14 columns
  trained_model: LogisticRegression
  feature_importance: 3 features
  validation_metrics: ['accuracy', 'precision', 'recall', 'f1_score', 'f1_macro', 'f1_weighted', 'precision_class_0', 'precision_class_1', 'recall_class_0', 'recall_class_1', 'roc_auc', 'pr_auc', 'brier_score']

======================================================================
AGENT: ORCHESTRATOR (Tier 1 - Orchestration)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: What factors drive therapy discontinuation for Kis...
    â€¢ messages_count: 1
    â€¢ current_agent: None
    â€¢ agent_outputs_keys: [0 items]
    â€¢ experiment_id: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent orchestrator instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (OrchestratorState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 20 required fields
        Actual:   10/20 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 7 checks pass
        Actual:   7/7 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.6362          -               -         
    agent_tier                1               -               -         
    required_fields           10/20           -               -         
    optional_fields           6/29            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ ORCHESTRATOR Analysis:
    â€¢ Query routed to N/A agents
    â€¢ Routing confidence: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    query_id: q-3a46f3496c8f
    response_text: Analysis shows that HCP engagement has a significant positive effect on patient conversion (ATE=0.12...
    response_confidence: 0.8700
    agents_dispatched: ['causal_impact', 'causal_impact']
    successful_agents: ['causal_impact', 'causal_impact']
    ... and 20 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 7/7 passed
    â€¢ Required output fields: status, response_text
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['response_text', 'successful_agents', '...

  ------------------------------------------------------------
  âœ… RESULT: PASS - orchestrator completed successfully (0.6s)
  ------------------------------------------------------------

======================================================================
AGENT: TOOL_COMPOSER (Tier 1 - Orchestration)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Compare the causal impact of HCP visits vs prior t...
    â€¢ experiment_id: tier0_e2e_e480790c
    â€¢ available_tools_count: 4

  âš™ï¸  Processing:
    âœ… Agent tool_composer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ToolComposerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 0 required fields
        Actual:   0/0 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   2/5 passed
    â€¢ Status check: âŒ FAIL
        Expected: no failure status
        Actual:   status=success=False
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0259          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         
    confidence                0.0000          -               -         

  ğŸ’¡ TOOL_COMPOSER Analysis:
    â€¢ Composed N/A tools for query execution
    â€¢ Execution plan generated successfully

  ğŸ“‹ Key Output Fields:
    success: False
    response: Unable to complete analysis: Decomposition failed: Failed to decompose query: 'Anthropic' object has...
    confidence: 0.0000
    composition_id: comp_270b5735
    sub_questions_count: 0
    tools_executed: 0
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 2/5 passed
    â€¢ Required output fields: success
    â€¢ âŒ Status failure: success=False
    â€¢ Failed checks:
      - Required fields percentage (0.0%) < minimum (50.0%)
      - Field 'success' must be True but is False
      - Agent returned success=False
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Contract validation failed: No module named 'src.agents.tool_composer....

  ------------------------------------------------------------
  âŒ RESULT: FAIL - tool_composer: Unknown error (0.0s)
  ------------------------------------------------------------
ğŸƒ View run analysis_20260129_014006 at: http://localhost:5000/#/experiments/219/runs/38fe1fdc23294895a0020cbfe61eb319
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/219

======================================================================
AGENT: CAUSAL_IMPACT (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: What is the causal effect of hcp_visits on discont...
    â€¢ query_id: dc2d1b2f-b6c8-468a-a2f2-c561c6ec4f97
    â€¢ treatment_var: hcp_visits
    â€¢ outcome_var: discontinuation_flag
    â€¢ confounders_count: 2
    â€¢ data_source: patient_journeys
    â€¢ experiment_id: tier0_e2e_e480790c
    â€¢ data_rows: 600
    â€¢ data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent causal_impact instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (CausalImpactOutput)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 19 required fields
        Actual:   19/19 present
    â€¢ Type validation: âŒ FAIL
        Expected: no type errors
        Actual:   1 type errors
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            7.2675          -               -         
    agent_tier                2               -               -         
    required_fields           19/19           -               -         
    optional_fields           12/29           -               -         
    contract_valid            False           True            âŒ         
    confidence                0.8100          -               -         
    p_value                   0.0010          -               -         

  ğŸ’¡ CAUSAL_IMPACT Analysis:
    â€¢ Average Treatment Effect (ATE): 0.2988
    â€¢ Statistical significance: p=0.0010

  ğŸ“‹ Key Output Fields:
    status: completed
    executive_summary: Analysis identified a statistically significant positive causal effect (ATE: 0.2988) using CausalFor...
    query_id: dc2d1b2f-b6c8-468a-a2f2-c561c6ec4f97
    causal_narrative: The causal analysis using CausalForestDML estimates an average treatment effect (ATE) of 0.30 (95% C...
    ate_estimate: 0.2988
    confidence_interval: (0.20075573212524708, 0.39675573212524706)
    ... and 25 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Type Errors:
    â€¢ mechanism_explanation: expected <class 'str'>, got None

  ------------------------------------------------------------
  âœ… RESULT: PASS - causal_impact completed successfully (7.3s)
  ------------------------------------------------------------
ğŸƒ View run gap_analysis_20260129_014013 at: http://localhost:5000/#/experiments/220/runs/b00a677c3877486bbe8b83683d8fad1e
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/220

======================================================================
AGENT: GAP_ANALYZER (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Identify performance gaps and ROI opportunities
    â€¢ metrics_count: 3
    â€¢ segments_count: 3
    â€¢ brand: Kisqali
    â€¢ time_period: current_quarter
    â€¢ gap_type: vs_potential
    â€¢ tier0_data_rows: 600
    â€¢ tier0_data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent gap_analyzer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (GapAnalyzerOutput)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 14 required fields
        Actual:   14/14 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.8958          -               -         
    agent_tier                2               -               -         
    required_fields           14/14           -               -         
    optional_fields           1/7             -               -         
    contract_valid            True            True            âœ…         
    confidence                0.9000          -               -         

  ğŸ’¡ GAP_ANALYZER Analysis:
    â€¢ Identified 10 performance gaps
    â€¢ Total opportunity value: 796.1618

  ğŸ“‹ Key Output Fields:
    executive_summary: Identified 10 ROI opportunities across 3 segments with total addressable value of $235,620. Top oppo...
    prioritized_opportunities: [10 items]
      [0]: {'rank': 1, 'gap': {'gap_id': 'age_group_50-65_trx_vs_potential', 'metric': 'trx', 'segment': 'age_group', 'segment_value': '50-65', 'current_value': 203.0, 'target_value': 284.2, 'gap_size': 81.19999999999999, 'gap_percentage': 28.57142857142857, 'gap_type': 'vs_potential'}, 'roi_estimate': {'gap_id': 'age_group_50-65_trx_vs_potential', 'estimated_revenue_impact': 24156.999999999993, 'estimated_cost_to_close': 12500.0, 'expected_roi': 0.9325599999999994, 'risk_adjusted_roi': 0.8393039999999995, 'payback_period_months': 6, 'confidence_interval': {'lower_bound': -0.28257700077539255, 'median': 1.2072990136296151, 'upper_bound': 14.918350541862333, 'probability_positive': 0.548, 'probability_target': 0.121}, 'attribution_level': 'shared', 'attribution_rate': 0.35, 'total_risk_adjustment': 0.09999999999999998, 'value_by_driver': {'trx_lift': 69019.99999999999}, 'confidence': 0.548, 'assumptions': ['Value driver: trx_lift', 'Unit value: $850/TRx', 'Attribution level: shared (35%)', 'Risk adjustment applied based on low-to-medium risk factors', 'Bootstrap CI from 1,000 Monte Carlo simulations', 'Market conditions assumed stable']}, 'recommended_action': 'Launch targeted sampling campa...'}...
    quick_wins: []
    strategic_bets: []
    total_addressable_value: 235620.0000
    total_gap_value: 796.1618
    ... and 9 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: executive_summary
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - gap_analyzer completed successfully (1.9s)
  ------------------------------------------------------------
ğŸƒ View run cate_analysis_20260129_014015 at: http://localhost:5000/#/experiments/218/runs/ea2ab3e798244a4fa64e82d5dcf760ac
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/218

======================================================================
AGENT: HETEROGENEOUS_OPTIMIZER (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Analyze heterogeneous treatment effects of hcp_vis...
    â€¢ treatment_var: hcp_visits
    â€¢ outcome_var: discontinuation_flag
    â€¢ segment_vars_count: 3
    â€¢ effect_modifiers_count: 3
    â€¢ data_source: patient_journeys
    â€¢ filters: None
    â€¢ tier0_data_rows: 600
    â€¢ tier0_data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent heterogeneous_optimizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (HeterogeneousOptimizerOutput)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 6 required fields
        Actual:   6/6 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 4 checks pass
        Actual:   4/4 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            3.8954          -               -         
    agent_tier                2               -               -         
    required_fields           6/6             -               -         
    optional_fields           11/33           -               -         
    contract_valid            True            True            âœ…         
    overall_ate               0.0000          -               -         
    heterogeneity_score       0.0000          -               -         
    confidence                0.7000          -               -         

  ğŸ’¡ HETEROGENEOUS_OPTIMIZER Analysis:
    â€¢ Overall ATE: 0.0000
    â€¢ Heterogeneity score: 0.0000

  ğŸ“‹ Key Output Fields:
    overall_ate: 0.0000
    heterogeneity_score: 0.0000
    executive_summary: Heterogeneous effect analysis complete. Overall treatment effect: 0.000. Limited heterogeneity detec...
    status: completed
    high_responders: []
    low_responders: []
    ... and 14 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/4 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['feature_importance', 'estimation_laten...

  ------------------------------------------------------------
  âœ… RESULT: PASS - heterogeneous_optimizer completed successfully (3.9s)
  ------------------------------------------------------------
ğŸƒ View run able-shrike-774 at: http://localhost:5000/#/experiments/7/runs/853cdd5192644b8fb3185f5cd94b68ff
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/7

======================================================================
AGENT: DRIFT_MONITOR (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Detect data and model drift in patient features
    â€¢ features_to_monitor_count: 3
    â€¢ model_id: None
    â€¢ time_window: 30d
    â€¢ brand: Kisqali
    â€¢ significance_level: 0.05

  âš™ï¸  Processing:
    âœ… Agent drift_monitor instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (DriftMonitorState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 11 required fields
        Actual:   1/11 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 4 checks pass
        Actual:   3/4 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.0468          -               -         
    agent_tier                3               -               -         
    required_fields           1/11            -               -         
    optional_fields           12/24           -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ DRIFT_MONITOR Analysis:
    â€¢ Drift detected: N/A
    â€¢ Overall drift score: N/A

  ğŸ“‹ Key Output Fields:
    data_drift_results: []
    model_drift_results: []
    concept_drift_results: []
    overall_drift_score: 0.0000
    features_with_drift: []
    alerts: []
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/4 passed
    â€¢ Required output fields: overall_drift_score
    â€¢ Failed checks:
      - Required fields percentage (9.1%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - drift_monitor: Unknown error (1.0s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPERIMENT_DESIGNER (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ business_question: Does personalized HCP outreach improve patient ret...
    â€¢ constraints_keys: [4 items]
    â€¢ available_data_keys: [3 items]
    â€¢ preregistration_formality: medium
    â€¢ max_redesign_iterations: 2
    â€¢ enable_validity_audit: True
    â€¢ brand: Kisqali

  âš™ï¸  Processing:
    âœ… Agent experiment_designer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ExperimentDesignState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 9 required fields
        Actual:   1/9 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 4 checks pass
        Actual:   3/4 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            78.9342         -               -         
    agent_tier                3               -               -         
    required_fields           1/9             -               -         
    optional_fields           16/58           -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ EXPERIMENT_DESIGNER Analysis:
    â€¢ Experiment design created with n=N/A
    â€¢ Statistical power: N/A

  ğŸ“‹ Key Output Fields:
    design_type: RCT
    design_rationale: An RCT allows for a clear causal inference by randomly assigning HCPs to either personalized or stan...
    treatments: [1 items]
    outcomes: [1 items]
    randomization_unit: individual
    randomization_method: stratified
    ... and 14 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/4 passed
    â€¢ Required output fields: design_type
    â€¢ Failed checks:
      - Required fields percentage (11.1%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['preregistration_document', 'total_late...

  ------------------------------------------------------------
  âŒ RESULT: FAIL - experiment_designer: Unknown error (78.9s)
  ------------------------------------------------------------
ğŸƒ View run amazing-moth-508 at: http://localhost:5000/#/experiments/225/runs/5fa61a8fa9ef4b1d841c8803f4fd2a91
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/225

======================================================================
AGENT: HEALTH_SCORE (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ scope: full
    â€¢ query: Check system health status
    â€¢ experiment_name: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent health_score instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (HealthScoreState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 6 required fields
        Actual:   2/6 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 9 checks pass
        Actual:   8/9 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.2489          -               -         
    agent_tier                3               -               -         
    required_fields           2/6             -               -         
    optional_fields           9/14            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ HEALTH_SCORE Analysis:
    â€¢ System health: N/A
    â€¢ Overall health score: N/A

  ğŸ“‹ Key Output Fields:
    overall_health_score: 91.0000
    health_grade: A
    component_health_score: 0.7000
    model_health_score: 1.0000
    pipeline_health_score: 1.0000
    agent_health_score: 1.0000
    ... and 5 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 8/9 passed
    â€¢ Required output fields: overall_health_score
    â€¢ Failed checks:
      - Required fields percentage (33.3%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - health_score: Unknown error (0.2s)
  ------------------------------------------------------------

======================================================================
AGENT: PREDICTION_SYNTHESIZER (Tier 4 - ML Predictions)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ entity_id: 3752840d-a5b0-4fae-8f58-5b93f74777bb
    â€¢ prediction_target: discontinuation_risk
    â€¢ features_keys: [3 items]
    â€¢ entity_type: patient
    â€¢ time_horizon: 30d
    â€¢ models_to_use: None
    â€¢ ensemble_method: weighted
    â€¢ include_context: True
    â€¢ query: Predict discontinuation risk for patient 3752840d-...
    â€¢ session_id: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent prediction_synthesizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (PredictionSynthesizerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 19 required fields
        Actual:   7/19 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   2/5 passed
    â€¢ Status check: âŒ FAIL
        Expected: no failure status
        Actual:   status=failed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.0452          -               -         
    agent_tier                4               -               -         
    required_fields           7/19            -               -         
    optional_fields           4/5             -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ PREDICTION_SYNTHESIZER Analysis:
    â€¢ Synthesized prediction: N/A
    â€¢ Model agreement: N/A

  ğŸ“‹ Key Output Fields:
    status: failed
    ensemble_prediction: null
    individual_predictions: []
    prediction_context: null
    prediction_summary: Prediction could not be generated due to errors.
    models_succeeded: 0
    ... and 5 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 2/5 passed
    â€¢ Required output fields: status
    â€¢ âŒ Status failure: failed
    â€¢ Failed checks:
      - Required fields percentage (36.8%) < minimum (40.0%)
      - Field 'status' must not be 'failed'
      - Agent returned failure status: failed
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - prediction_synthesizer: Unknown error (1.0s)
  ------------------------------------------------------------

======================================================================
AGENT: RESOURCE_OPTIMIZER (Tier 4 - ML Predictions)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ allocation_targets_count: 4
    â€¢ constraints_count: 1
    â€¢ resource_type: budget
    â€¢ objective: maximize_roi
    â€¢ solver_type: linear
    â€¢ run_scenarios: False
    â€¢ scenario_count: 3
    â€¢ query: Optimize budget allocation across territories
    â€¢ session_id: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent resource_optimizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ResourceOptimizerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 18 required fields
        Actual:   5/18 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 4 checks pass
        Actual:   3/4 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.4401          -               -         
    agent_tier                4               -               -         
    required_fields           5/18            -               -         
    optional_fields           10/12           -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ RESOURCE_OPTIMIZER Analysis:
    â€¢ Optimization completed: N/A
    â€¢ Projected savings: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    optimal_allocations: [4 items]
      [0]: {'entity_id': 'territory_west', 'entity_type': 'territory', 'current_allocation': 50000.0, 'optimized_allocation': 100000.0}...
    objective_value: 1.0250
    solver_status: optimal
    projected_total_outcome: 1.0250
    projected_roi: 0.0000
    ... and 9 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/4 passed
    â€¢ Required output fields: status
    â€¢ Failed checks:
      - Required fields percentage (27.8%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - resource_optimizer: Unknown error (1.4s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPLAINER (Tier 5 - Self-Improvement)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ analysis_results_count: 3
    â€¢ query: Explain the discontinuation risk analysis results
    â€¢ user_expertise: analyst
    â€¢ output_format: structured
    â€¢ focus_areas_count: 2
    â€¢ session_id: tier0_e2e_e480790c
    â€¢ memory_config_keys: [1 items]

  âš™ï¸  Processing:
    âœ… Agent explainer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ExplainerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 11 required fields
        Actual:   4/11 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   4/5 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.7826          -               -         
    agent_tier                5               -               -         
    required_fields           4/11            -               -         
    optional_fields           8/32            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ EXPLAINER Analysis:
    â€¢ Generated N/A explanation
    â€¢ Summary: Analysis complete with 0 findings and 0 recommenda...

  ğŸ“‹ Key Output Fields:
    executive_summary: Analysis complete with 0 findings and 0 recommendations.
    status: completed
    detailed_explanation: 
    narrative_sections: []
    extracted_insights: []
    key_themes: ['Results should be interpreted with caution']
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/5 passed
    â€¢ Required output fields: executive_summary
    â€¢ Failed checks:
      - Required fields percentage (36.4%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['timestamp']

  ------------------------------------------------------------
  âŒ RESULT: FAIL - explainer: Unknown error (0.8s)
  ------------------------------------------------------------

======================================================================
AGENT: FEEDBACK_LEARNER (Tier 5 - Self-Improvement)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ time_range_start: 2026-01-28T01:41:43.226506+00:00
    â€¢ time_range_end: 2026-01-29T01:41:43.226506+00:00
    â€¢ batch_id: batch_tier0_e2
    â€¢ focus_agents_count: 3

  âš™ï¸  Processing:
    âœ… Agent feedback_learner instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (FeedbackLearnerState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 12 required fields
        Actual:   5/12 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0551          -               -         
    agent_tier                5               -               -         
    required_fields           5/12            -               -         
    optional_fields           7/28            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ FEEDBACK_LEARNER Analysis:
    â€¢ Learning cycle complete: Learning cycle complete. Processed 0 feedback item...
    â€¢ Improvements identified: N/A

  ğŸ“‹ Key Output Fields:
    learning_summary: Learning cycle complete. Processed 0 feedback items. Detected 0 patterns. Generated 0 recommendation...
    status: completed
    batch_id: batch_tier0_e2
    detected_patterns: []
    learning_recommendations: []
    priority_improvements: []
    ... and 13 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['feedback_count', 'pattern_count', 'rec...

  ------------------------------------------------------------
  âœ… RESULT: PASS - feedback_learner completed successfully (0.1s)
  ------------------------------------------------------------

======================================================================
TEST SUMMARY
======================================================================

TIER RESULTS:
------------------------------------------------------------

  Tier 1 - Orchestration: 1/2 PASSED
    âœ“ orchestrator (636.2ms)
    âœ— tool_composer (25.9ms) - Unknown

  Tier 2 - Causal Analytics: ALL PASSED
    âœ“ causal_impact (7.27s)
    âœ“ gap_analyzer (1.90s)
    âœ“ heterogeneous_optimizer (3.90s)

  Tier 3 - Monitoring: ALL FAILED
    âœ— drift_monitor (1.05s) - Unknown
    âœ— experiment_designer (78.93s) - Unknown
    âœ— health_score (248.9ms) - Unknown

  Tier 4 - ML Predictions: ALL FAILED
    âœ— prediction_synthesizer (1.05s) - Unknown
    âœ— resource_optimizer (1.44s) - Unknown

  Tier 5 - Self-Improvement: 1/2 PASSED
    âœ“ feedback_learner (55.1ms)
    âœ— explainer (782.6ms) - Unknown

------------------------------------------------------------

OVERALL: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 41.7%
  Total Agents: 12
  Passed: 5
  Failed: 7
  Total Time: 110.05s
  Avg Time/Agent: 9.17s

FAILED AGENTS:
------------------------------------------------------------
  âŒ tool_composer (Tier 1)
     Error: Contract validation failed
  âŒ drift_monitor (Tier 3)
     Error: Contract validation failed
  âŒ experiment_designer (Tier 3)
     Error: Contract validation failed
  âŒ health_score (Tier 3)
     Error: Contract validation failed
  âŒ prediction_synthesizer (Tier 4)
     Error: Contract validation failed
  âŒ resource_optimizer (Tier 4)
     Error: Contract validation failed
  âŒ explainer (Tier 5)
     Error: Contract validation failed

QUALITY GATES:
  Passed: 5/12
  Failed: 7/12
  Status Failures: 2 (agents returned error/failed status)

  Quality Gate Failures:
    â€¢ tool_composer: status=success=False
    â€¢ drift_monitor: Required fields percentage (9.1%) < minimum (40.0%
    â€¢ experiment_designer: Required fields percentage (11.1%) < minimum (40.0
    â€¢ health_score: Required fields percentage (33.3%) < minimum (40.0
    â€¢ prediction_synthesizer: status=failed
    â€¢ resource_optimizer: Required fields percentage (27.8%) < minimum (40.0
    â€¢ explainer: Required fields percentage (36.4%) < minimum (40.0

CONTRACT VALIDATION:
  Valid Contracts: 2/12
  Total Type Errors: 1

OBSERVABILITY:
  Traces Created: 0
  Traces Verified: 0
```
