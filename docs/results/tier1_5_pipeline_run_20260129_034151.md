# Tier 1-5 Agent Test Results

**Generated**: 2026-01-29T03:41:51.008017

## Test Configuration

- **Tiers Tested**: all (1-5)
- **Agents Tested**: all
- **Tier0 Cache**: auto-generated
- **Observability**: enabled
- **Timeout**: 30.0s per agent

## Results

```

======================================================================
TIER 1-5 AGENT TESTING FRAMEWORK
======================================================================
  Loading tier0 state from cache: /opt/e2i_causal_analytics/scripts/tier0_output_cache/latest.pkl
Tier0 Experiment ID: tier0_e2e_e480790c
Data Source Validation: Enabled
Opik: Healthy
Agents to Test: 12
Agents: orchestrator, tool_composer, causal_impact, gap_analyzer, heterogeneous_optimizer, drift_monitor, experiment_designer, health_score, prediction_synthesizer, resource_optimizer, explainer, feedback_learner

Tier0 Data:
  eligible_df: 600 rows x 14 columns
  trained_model: LogisticRegression
  feature_importance: 3 features
  validation_metrics: ['accuracy', 'precision', 'recall', 'f1_score', 'f1_macro', 'f1_weighted', 'precision_class_0', 'precision_class_1', 'recall_class_0', 'recall_class_1', 'roc_auc', 'pr_auc', 'brier_score']

======================================================================
AGENT: ORCHESTRATOR (Tier 1 - Orchestration)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: What factors drive therapy discontinuation for Kis...
    â€¢ messages_count: 1
    â€¢ current_agent: None
    â€¢ agent_outputs_keys: [0 items]
    â€¢ experiment_id: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent orchestrator instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (OrchestratorState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 0 required fields
        Actual:   0/0 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 7 checks pass
        Actual:   7/7 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.6923          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           16/49           -               -         
    contract_valid            True            True            âœ…         

  ğŸ’¡ ORCHESTRATOR Analysis:
    â€¢ Query routed to N/A agents
    â€¢ Routing confidence: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    query_id: q-071f893c5946
    response_text: Analysis shows that HCP engagement has a significant positive effect on patient conversion (ATE=0.12...
    response_confidence: 0.8700
    agents_dispatched: ['causal_impact', 'causal_impact']
    successful_agents: ['causal_impact', 'causal_impact']
    ... and 20 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 7/7 passed
    â€¢ Required output fields: status, response_text
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['response_text', 'successful_agents', '...

  ------------------------------------------------------------
  âœ… RESULT: PASS - orchestrator completed successfully (0.7s)
  ------------------------------------------------------------

======================================================================
AGENT: TOOL_COMPOSER (Tier 1 - Orchestration)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Compare the causal impact of HCP visits vs prior t...
    â€¢ experiment_id: tier0_e2e_e480790c
    â€¢ available_tools_count: 4

  âš™ï¸  Processing:
    âœ… Agent tool_composer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ToolComposerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 0 required fields
        Actual:   0/0 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   3/5 passed
    â€¢ Status check: âŒ FAIL
        Expected: no failure status
        Actual:   status=success=False
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            7.9976          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         
    confidence                0.0000          -               -         

  ğŸ’¡ TOOL_COMPOSER Analysis:
    â€¢ Composed N/A tools for query execution
    â€¢ Execution plan generated successfully

  ğŸ“‹ Key Output Fields:
    success: False
    response: Unable to complete analysis: Planning failed: Failed to create execution plan: No tools available in...
    confidence: 0.0000
    composition_id: comp_b6430218
    sub_questions_count: 0
    tools_executed: 0
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/5 passed
    â€¢ Required output fields: success
    â€¢ âŒ Status failure: success=False
    â€¢ Failed checks:
      - Field 'success' must be True but is False
      - Agent returned success=False
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Contract validation failed: No module named 'src.agents.tool_composer....

  ------------------------------------------------------------
  âŒ RESULT: FAIL - tool_composer: Unknown error (8.0s)
  ------------------------------------------------------------
ğŸƒ View run analysis_20260129_034013 at: http://localhost:5000/#/experiments/219/runs/654fd243322c4719a32103969ddee56c
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/219

======================================================================
AGENT: CAUSAL_IMPACT (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: What is the causal effect of hcp_visits on discont...
    â€¢ query_id: a576d4c8-2e5a-4914-a945-d42f3aed3351
    â€¢ treatment_var: hcp_visits
    â€¢ outcome_var: discontinuation_flag
    â€¢ confounders_count: 2
    â€¢ data_source: patient_journeys
    â€¢ experiment_id: tier0_e2e_e480790c
    â€¢ data_rows: 600
    â€¢ data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent causal_impact instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (CausalImpactOutput)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 19 required fields
        Actual:   19/19 present
    â€¢ Type validation: âŒ FAIL
        Expected: no type errors
        Actual:   1 type errors
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            7.3547          -               -         
    agent_tier                2               -               -         
    required_fields           19/19           -               -         
    optional_fields           12/29           -               -         
    contract_valid            False           True            âŒ         
    confidence                0.8100          -               -         
    p_value                   0.0010          -               -         

  ğŸ’¡ CAUSAL_IMPACT Analysis:
    â€¢ Average Treatment Effect (ATE): 0.2988
    â€¢ Statistical significance: p=0.0010

  ğŸ“‹ Key Output Fields:
    status: completed
    executive_summary: Analysis identified a statistically significant positive causal effect (ATE: 0.2988) using CausalFor...
    query_id: a576d4c8-2e5a-4914-a945-d42f3aed3351
    causal_narrative: The causal analysis using CausalForestDML estimates an average treatment effect (ATE) of 0.30 (95% C...
    ate_estimate: 0.2988
    confidence_interval: (0.20075573212524708, 0.39675573212524706)
    ... and 25 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Type Errors:
    â€¢ mechanism_explanation: expected <class 'str'>, got None

  ------------------------------------------------------------
  âœ… RESULT: PASS - causal_impact completed successfully (7.4s)
  ------------------------------------------------------------
ğŸƒ View run gap_analysis_20260129_034021 at: http://localhost:5000/#/experiments/220/runs/3afdc8451a2443db9410ee1b2a112906
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/220

======================================================================
AGENT: GAP_ANALYZER (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Identify performance gaps and ROI opportunities
    â€¢ metrics_count: 3
    â€¢ segments_count: 3
    â€¢ brand: Kisqali
    â€¢ time_period: current_quarter
    â€¢ gap_type: vs_potential
    â€¢ tier0_data_rows: 600
    â€¢ tier0_data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent gap_analyzer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (GapAnalyzerOutput)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 14 required fields
        Actual:   14/14 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.2340          -               -         
    agent_tier                2               -               -         
    required_fields           14/14           -               -         
    optional_fields           1/7             -               -         
    contract_valid            True            True            âœ…         
    confidence                0.9000          -               -         

  ğŸ’¡ GAP_ANALYZER Analysis:
    â€¢ Identified 10 performance gaps
    â€¢ Total opportunity value: 796.1618

  ğŸ“‹ Key Output Fields:
    executive_summary: Identified 10 ROI opportunities across 3 segments with total addressable value of $235,620. Top oppo...
    prioritized_opportunities: [10 items]
      [0]: {'rank': 1, 'gap': {'gap_id': 'age_group_50-65_trx_vs_potential', 'metric': 'trx', 'segment': 'age_group', 'segment_value': '50-65', 'current_value': 203.0, 'target_value': 284.2, 'gap_size': 81.19999999999999, 'gap_percentage': 28.57142857142857, 'gap_type': 'vs_potential'}, 'roi_estimate': {'gap_id': 'age_group_50-65_trx_vs_potential', 'estimated_revenue_impact': 24156.999999999993, 'estimated_cost_to_close': 12500.0, 'expected_roi': 0.9325599999999994, 'risk_adjusted_roi': 0.8393039999999995, 'payback_period_months': 6, 'confidence_interval': {'lower_bound': -0.2447096416057479, 'median': 1.2287105361557114, 'upper_bound': 15.589029493414957, 'probability_positive': 0.56, 'probability_target': 0.138}, 'attribution_level': 'shared', 'attribution_rate': 0.35, 'total_risk_adjustment': 0.09999999999999998, 'value_by_driver': {'trx_lift': 69019.99999999999}, 'confidence': 0.56, 'assumptions': ['Value driver: trx_lift', 'Unit value: $850/TRx', 'Attribution level: shared (35%)', 'Risk adjustment applied based on low-to-medium risk factors', 'Bootstrap CI from 1,000 Monte Carlo simulations', 'Market conditions assumed stable']}, 'recommended_action': 'Launch targeted sampling campa...'}...
    quick_wins: []
    strategic_bets: []
    total_addressable_value: 235620.0000
    total_gap_value: 796.1618
    ... and 9 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: executive_summary
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - gap_analyzer completed successfully (1.2s)
  ------------------------------------------------------------
ğŸƒ View run cate_analysis_20260129_034022 at: http://localhost:5000/#/experiments/218/runs/5eef3543b57f4fbeabd6ab9611f33c39
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/218

======================================================================
AGENT: HETEROGENEOUS_OPTIMIZER (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Analyze heterogeneous treatment effects of hcp_vis...
    â€¢ treatment_var: hcp_visits
    â€¢ outcome_var: discontinuation_flag
    â€¢ segment_vars_count: 0
    â€¢ effect_modifiers_count: 3
    â€¢ data_source: patient_journeys
    â€¢ filters: None
    â€¢ tier0_data_rows: 600
    â€¢ tier0_data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent heterogeneous_optimizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (HeterogeneousOptimizerOutput)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 6 required fields
        Actual:   6/6 present
    â€¢ Type validation: âŒ FAIL
        Expected: no type errors
        Actual:   1 type errors
    â€¢ Quality gate: âœ… PASS
        Expected: 4 checks pass
        Actual:   4/4 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.8998          -               -         
    agent_tier                2               -               -         
    required_fields           6/6             -               -         
    optional_fields           11/33           -               -         
    contract_valid            False           True            âŒ         
    overall_ate               -0.0668         -               -         
    heterogeneity_score       0.4086          -               -         
    confidence                0.7000          -               -         

  ğŸ’¡ HETEROGENEOUS_OPTIMIZER Analysis:
    â€¢ Overall ATE: -0.0668
    â€¢ Heterogeneity score: 0.4086

  ğŸ“‹ Key Output Fields:
    overall_ate: -0.0668
    heterogeneity_score: 0.4086
    executive_summary: Heterogeneous effect analysis complete. Overall treatment effect: -0.067. Limited heterogeneity dete...
    status: completed
    high_responders: []
    low_responders: []
    ... and 14 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/4 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Type Errors:
    â€¢ expected_total_lift: expected typing.Optional[float], got int

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['feature_importance', 'estimation_laten...

  ------------------------------------------------------------
  âœ… RESULT: PASS - heterogeneous_optimizer completed successfully (1.9s)
  ------------------------------------------------------------
ğŸƒ View run nimble-stoat-56 at: http://localhost:5000/#/experiments/7/runs/90bbb4d66c514c1087856480fdf7fd04
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/7

======================================================================
AGENT: DRIFT_MONITOR (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Detect data and model drift in patient features
    â€¢ features_to_monitor_count: 3
    â€¢ model_id: None
    â€¢ time_window: 30d
    â€¢ brand: Kisqali
    â€¢ significance_level: 0.05
    â€¢ tier0_data_rows: 600
    â€¢ tier0_data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent drift_monitor instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (DriftMonitorState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 7 required fields
        Actual:   5/7 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 4 checks pass
        Actual:   4/4 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.2176          -               -         
    agent_tier                3               -               -         
    required_fields           5/7             -               -         
    optional_fields           8/29            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ DRIFT_MONITOR Analysis:
    â€¢ Drift detected: N/A
    â€¢ Overall drift score: N/A

  ğŸ“‹ Key Output Fields:
    data_drift_results: [3 items]
      [0]: {'feature': 'days_on_therapy', 'drift_type': 'data', 'test_statistic': 0.1525, 'p_value': 0.0096}...
    model_drift_results: []
    concept_drift_results: []
    overall_drift_score: 0.8330
    features_with_drift: [3 items]
    alerts: [1 items]
      [0]: {'alert_id': '31990615-d16e-4570-9e87-a480eb...', 'severity': 'critical', 'drift_type': 'data', 'affected_features': ['hcp_visits', 'prior_treatments']}...
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/4 passed
    â€¢ Required output fields: overall_drift_score
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - drift_monitor completed successfully (0.2s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPERIMENT_DESIGNER (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ business_question: Does personalized HCP outreach improve patient ret...
    â€¢ constraints_keys: [4 items]
    â€¢ available_data_keys: [3 items]
    â€¢ preregistration_formality: medium
    â€¢ max_redesign_iterations: 2
    â€¢ enable_validity_audit: True
    â€¢ brand: Kisqali

  âš™ï¸  Processing:
    âœ… Agent experiment_designer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ExperimentDesignState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 7 required fields
        Actual:   5/7 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 4 checks pass
        Actual:   4/4 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            83.6351         -               -         
    agent_tier                3               -               -         
    required_fields           5/7             -               -         
    optional_fields           12/60           -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ EXPERIMENT_DESIGNER Analysis:
    â€¢ Experiment design created with n=N/A
    â€¢ Statistical power: N/A

  ğŸ“‹ Key Output Fields:
    design_type: RCT
    design_rationale: An RCT allows for a clear causal inference by randomly assigning HCPs to either personalized or stan...
    treatments: [1 items]
    outcomes: [1 items]
    randomization_unit: individual
    randomization_method: stratified
    ... and 14 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/4 passed
    â€¢ Required output fields: design_type
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['preregistration_document', 'total_late...

  ------------------------------------------------------------
  âœ… RESULT: PASS - experiment_designer completed successfully (83.6s)
  ------------------------------------------------------------
ğŸƒ View run chill-ram-626 at: http://localhost:5000/#/experiments/225/runs/dc0c3d52a06e4d56bf5651dd21385ac8
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/225

======================================================================
AGENT: HEALTH_SCORE (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ scope: full
    â€¢ query: Check system health status
    â€¢ experiment_name: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent health_score instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (HealthScoreState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 5 required fields
        Actual:   3/5 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 9 checks pass
        Actual:   9/9 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.2347          -               -         
    agent_tier                3               -               -         
    required_fields           3/5             -               -         
    optional_fields           8/15            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ HEALTH_SCORE Analysis:
    â€¢ System health: N/A
    â€¢ Overall health score: N/A

  ğŸ“‹ Key Output Fields:
    overall_health_score: 91.0000
    health_grade: A
    component_health_score: 0.7000
    model_health_score: 1.0000
    pipeline_health_score: 1.0000
    agent_health_score: 1.0000
    ... and 5 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 9/9 passed
    â€¢ Required output fields: overall_health_score
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - health_score completed successfully (0.2s)
  ------------------------------------------------------------

======================================================================
AGENT: PREDICTION_SYNTHESIZER (Tier 4 - ML Predictions)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ entity_id: 3752840d-a5b0-4fae-8f58-5b93f74777bb
    â€¢ prediction_target: discontinuation_risk
    â€¢ features_keys: [3 items]
    â€¢ entity_type: patient
    â€¢ time_horizon: 30d
    â€¢ models_to_use: None
    â€¢ ensemble_method: weighted
    â€¢ include_context: True
    â€¢ query: Predict discontinuation risk for patient 3752840d-...
    â€¢ session_id: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent prediction_synthesizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (PredictionSynthesizerState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 4 required fields
        Actual:   4/4 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.8288          -               -         
    agent_tier                4               -               -         
    required_fields           4/4             -               -         
    optional_fields           7/20            -               -         
    contract_valid            True            True            âœ…         

  ğŸ’¡ PREDICTION_SYNTHESIZER Analysis:
    â€¢ Synthesized prediction: N/A
    â€¢ Model agreement: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    ensemble_prediction: {dict with 6 keys}
    individual_predictions: [1 items]
      [0]: {'model_id': 'tier0_e2e_e480790c', 'model_type': 'unknown', 'prediction': 0.0, 'prediction_proba': None}...
    prediction_context: {dict with 4 keys}
    prediction_summary: Prediction: 0.000 (95% CI: [-0.100, 0.100]). Confidence: high. Model agreement: strong across 1 mode...
    models_succeeded: 1
    ... and 5 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - prediction_synthesizer completed successfully (0.8s)
  ------------------------------------------------------------

======================================================================
AGENT: RESOURCE_OPTIMIZER (Tier 4 - ML Predictions)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ allocation_targets_count: 4
    â€¢ constraints_count: 1
    â€¢ resource_type: budget
    â€¢ objective: maximize_roi
    â€¢ solver_type: linear
    â€¢ run_scenarios: False
    â€¢ scenario_count: 3
    â€¢ query: Optimize budget allocation across territories
    â€¢ session_id: tier0_e2e_e480790c

  âš™ï¸  Processing:
    âœ… Agent resource_optimizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ResourceOptimizerState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 7 required fields
        Actual:   7/7 present
    â€¢ Type validation: âŒ FAIL
        Expected: no type errors
        Actual:   2 type errors
    â€¢ Quality gate: âœ… PASS
        Expected: 4 checks pass
        Actual:   4/4 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.6859          -               -         
    agent_tier                4               -               -         
    required_fields           7/7             -               -         
    optional_fields           8/23            -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ RESOURCE_OPTIMIZER Analysis:
    â€¢ Optimization completed: N/A
    â€¢ Projected savings: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    optimal_allocations: [4 items]
      [0]: {'entity_id': 'territory_west', 'entity_type': 'territory', 'current_allocation': 50000.0, 'optimized_allocation': 100000.0}...
    objective_value: 1.0250
    solver_status: optimal
    projected_total_outcome: 1.0250
    projected_roi: 0.0000
    ... and 9 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/4 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Type Errors:
    â€¢ scenarios: expected typing.List[src.agents.resource_optimizer.state.ScenarioResult], got None
    â€¢ sensitivity_analysis: expected typing.Dict[str, float], got None

  ------------------------------------------------------------
  âœ… RESULT: PASS - resource_optimizer completed successfully (0.7s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPLAINER (Tier 5 - Self-Improvement)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ analysis_results_count: 3
    â€¢ query: Explain the discontinuation risk analysis results
    â€¢ user_expertise: analyst
    â€¢ output_format: structured
    â€¢ focus_areas_count: 2
    â€¢ session_id: tier0_e2e_e480790c
    â€¢ memory_config_keys: [1 items]

  âš™ï¸  Processing:
    âœ… Agent explainer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (ExplainerState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 6 required fields
        Actual:   6/6 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.7717          -               -         
    agent_tier                5               -               -         
    required_fields           6/6             -               -         
    optional_fields           6/37            -               -         
    contract_valid            True            True            âœ…         

  ğŸ’¡ EXPLAINER Analysis:
    â€¢ Generated N/A explanation
    â€¢ Summary: Analysis complete with 10 findings and 0 recommend...

  ğŸ“‹ Key Output Fields:
    executive_summary: Analysis complete with 10 findings and 0 recommendations.
    status: completed
    detailed_explanation: ## Key Findings
- Significant causal effect identified: ATE=0.127 (p=0.0023)
- Effect is statistical...
    narrative_sections: [1 items]
      [0]: {'section_type': 'finding', 'title': 'Key Findings', 'content': '- Significant causal effect id...', 'supporting_data': {'count': 10}}...
    extracted_insights: [10 items]
      [0]: {'insight_id': '1', 'category': 'finding', 'statement': 'Significant causal effect iden...', 'supporting_evidence': ['Source: causal_impact']}...
    key_themes: ['Analysis revealed 10 key findings', 'High confidence in analysis results']
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: executive_summary
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['timestamp']

  ------------------------------------------------------------
  âœ… RESULT: PASS - explainer completed successfully (0.8s)
  ------------------------------------------------------------

======================================================================
AGENT: FEEDBACK_LEARNER (Tier 5 - Self-Improvement)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ time_range_start: 2026-01-28T03:41:50.948577+00:00
    â€¢ time_range_end: 2026-01-29T03:41:50.948577+00:00
    â€¢ batch_id: batch_tier0_e2
    â€¢ focus_agents_count: 3

  âš™ï¸  Processing:
    âœ… Agent feedback_learner instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (FeedbackLearnerState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 4 required fields
        Actual:   4/4 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0541          -               -         
    agent_tier                5               -               -         
    required_fields           4/4             -               -         
    optional_fields           8/36            -               -         
    contract_valid            True            True            âœ…         

  ğŸ’¡ FEEDBACK_LEARNER Analysis:
    â€¢ Learning cycle complete: Learning cycle complete. Processed 0 feedback item...
    â€¢ Improvements identified: N/A

  ğŸ“‹ Key Output Fields:
    learning_summary: Learning cycle complete. Processed 0 feedback items. Detected 0 patterns. Generated 0 recommendation...
    status: completed
    batch_id: batch_tier0_e2
    detected_patterns: []
    learning_recommendations: []
    priority_improvements: []
    ... and 13 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 5/5 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['feedback_count', 'pattern_count', 'rec...

  ------------------------------------------------------------
  âœ… RESULT: PASS - feedback_learner completed successfully (0.1s)
  ------------------------------------------------------------

======================================================================
TEST SUMMARY
======================================================================

TIER RESULTS:
------------------------------------------------------------

  Tier 1 - Orchestration: 1/2 PASSED
    âœ“ orchestrator (692.3ms)
    âœ— tool_composer (8.00s) - Unknown

  Tier 2 - Causal Analytics: ALL PASSED
    âœ“ causal_impact (7.35s)
    âœ“ gap_analyzer (1.23s)
    âœ“ heterogeneous_optimizer (1.90s)

  Tier 3 - Monitoring: ALL PASSED
    âœ“ drift_monitor (217.6ms)
    âœ“ experiment_designer (83.64s)
    âœ“ health_score (234.7ms)

  Tier 4 - ML Predictions: ALL PASSED
    âœ“ prediction_synthesizer (828.8ms)
    âœ“ resource_optimizer (685.9ms)

  Tier 5 - Self-Improvement: ALL PASSED
    âœ“ explainer (771.7ms)
    âœ“ feedback_learner (54.1ms)

------------------------------------------------------------

OVERALL: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘] 91.7%
  Total Agents: 12
  Passed: 11
  Failed: 1
  Total Time: 118.72s
  Avg Time/Agent: 9.89s

FAILED AGENTS:
------------------------------------------------------------
  âŒ tool_composer (Tier 1)
     Error: Contract validation failed

QUALITY GATES:
  Passed: 11/12
  Failed: 1/12
  Status Failures: 1 (agents returned error/failed status)

  Quality Gate Failures:
    â€¢ tool_composer: status=success=False

CONTRACT VALIDATION:
  Valid Contracts: 5/12
  Total Type Errors: 4

OBSERVABILITY:
  Traces Created: 0
  Traces Verified: 0
```
