# Tier 1-5 Agent Test Results

**Generated**: 2026-01-28T21:14:50.726432

## Test Configuration

- **Tiers Tested**: all (1-5)
- **Agents Tested**: all
- **Tier0 Cache**: auto-generated
- **Observability**: skipped
- **Timeout**: 60.0s per agent

## Results

```

======================================================================
TIER 1-5 AGENT TESTING FRAMEWORK
======================================================================
  Loading tier0 state from cache: /opt/e2i_causal_analytics/scripts/tier0_output_cache/latest.pkl
Tier0 Experiment ID: tier0_e2e_f02125c7
Agents to Test: 12
Agents: orchestrator, tool_composer, causal_impact, gap_analyzer, heterogeneous_optimizer, drift_monitor, experiment_designer, health_score, prediction_synthesizer, resource_optimizer, explainer, feedback_learner

Tier0 Data:
  eligible_df: 600 rows x 14 columns
  trained_model: LogisticRegression
  feature_importance: 3 features
  validation_metrics: ['accuracy', 'precision', 'recall', 'f1_score', 'f1_macro', 'f1_weighted', 'precision_class_0', 'precision_class_1', 'recall_class_0', 'recall_class_1', 'roc_auc', 'pr_auc', 'brier_score']

======================================================================
AGENT: ORCHESTRATOR (Tier 1 - Orchestration)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: What factors drive therapy discontinuation for Kis...
    â€¢ messages_count: 1
    â€¢ current_agent: None
    â€¢ agent_outputs_keys: [0 items]
    â€¢ experiment_id: tier0_e2e_f02125c7

  âš™ï¸  Processing:
    âœ… Agent orchestrator instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (OrchestratorState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 0 required fields
        Actual:   0/0 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 7 checks pass
        Actual:   6/7 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.6309          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           16/49           -               -         
    contract_valid            True            True            âœ…         

  ğŸ’¡ ORCHESTRATOR Analysis:
    â€¢ Query routed to N/A agents
    â€¢ Routing confidence: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    query_id: q-cf36a324561f
    response_text: Analysis shows that HCP engagement has a significant positive effect on patient conversion (ATE=0.12...
    response_confidence: 0.8700
    agents_dispatched: ['causal_impact', 'causal_impact']
    successful_agents: ['causal_impact', 'causal_impact']
    ... and 20 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 6/7 passed
    â€¢ Required output fields: status, response_text
    â€¢ Failed checks:
      - Required fields percentage (0.0%) < minimum (50.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['response_text', 'successful_agents', '...

  ------------------------------------------------------------
  âŒ RESULT: FAIL - orchestrator: Unknown error (0.6s)
  ------------------------------------------------------------

======================================================================
AGENT: TOOL_COMPOSER (Tier 1 - Orchestration)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Compare the causal impact of HCP visits vs prior t...
    â€¢ experiment_id: tier0_e2e_f02125c7
    â€¢ available_tools_count: 4

  âš™ï¸  Processing:
    âœ… Agent tool_composer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ToolComposerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 0 required fields
        Actual:   0/0 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   2/5 passed
    â€¢ Status check: âŒ FAIL
        Expected: no failure status
        Actual:   status=success=False
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0217          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         
    confidence                0.0000          -               -         

  ğŸ’¡ TOOL_COMPOSER Analysis:
    â€¢ Composed N/A tools for query execution
    â€¢ Execution plan generated successfully

  ğŸ“‹ Key Output Fields:
    success: False
    response: Unable to complete analysis: Decomposition failed: Failed to decompose query: 'Anthropic' object has...
    confidence: 0.0000
    composition_id: comp_005a4862
    sub_questions_count: 0
    tools_executed: 0
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 2/5 passed
    â€¢ Required output fields: success
    â€¢ âŒ Status failure: success=False
    â€¢ Failed checks:
      - Required fields percentage (0.0%) < minimum (50.0%)
      - Field 'success' must be True but is False
      - Agent returned success=False
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Contract validation failed: No module named 'src.agents.tool_composer....

  ------------------------------------------------------------
  âŒ RESULT: FAIL - tool_composer: Unknown error (0.0s)
  ------------------------------------------------------------
ğŸƒ View run analysis_20260128_211352 at: http://localhost:5000/#/experiments/4/runs/bd08e72d7674408592a7a8ce1de0d30c
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/4

======================================================================
AGENT: CAUSAL_IMPACT (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: What is the causal effect of hcp_visits on discont...
    â€¢ query_id: a680c7e7-92d1-4563-809b-253252c5239d
    â€¢ treatment_var: hcp_visits
    â€¢ outcome_var: discontinuation_flag
    â€¢ confounders_count: 2
    â€¢ data_source: patient_journeys
    â€¢ experiment_id: tier0_e2e_f02125c7
    â€¢ data_rows: 600
    â€¢ data_columns: 14

  âš™ï¸  Processing:
    âœ… Agent causal_impact instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (CausalImpactState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 8 required fields
        Actual:   1/8 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   4/5 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            7.3897          -               -         
    agent_tier                2               -               -         
    required_fields           1/8             -               -         
    optional_fields           4/78            -               -         
    contract_valid            False           True            âŒ         
    confidence                0.8100          -               -         
    p_value                   0.0010          -               -         

  ğŸ’¡ CAUSAL_IMPACT Analysis:
    â€¢ Average Treatment Effect (ATE): N/A
    â€¢ Statistical significance: p=0.0010

  ğŸ“‹ Key Output Fields:
    status: completed
    executive_summary: Analysis identified a statistically significant positive causal effect (ATE: 0.2988) using CausalFor...
    query_id: a680c7e7-92d1-4563-809b-253252c5239d
    causal_narrative: The causal analysis using CausalForestDML estimates an average treatment effect (ATE) of 0.30 (95% C...
    ate_estimate: 0.2988
    confidence_interval: (0.20075573212524708, 0.39675573212524706)
    ... and 25 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/5 passed
    â€¢ Required output fields: status
    â€¢ Failed checks:
      - Required fields percentage (12.5%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['causal_narrative', 'ate_estimate', 'co...

  ------------------------------------------------------------
  âŒ RESULT: FAIL - causal_impact: Unknown error (7.4s)
  ------------------------------------------------------------
ğŸƒ View run gap_analysis_20260128_211359 at: http://localhost:5000/#/experiments/6/runs/425c9dfa3172444f8adc994f1de2e830
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/6

======================================================================
AGENT: GAP_ANALYZER (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Identify performance gaps and ROI opportunities
    â€¢ metrics_count: 3
    â€¢ segments_count: 3
    â€¢ brand: Kisqali
    â€¢ time_period: current_quarter
    â€¢ gap_type: vs_potential

  âš™ï¸  Processing:
    âœ… Agent gap_analyzer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (GapAnalyzerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 63 required fields
        Actual:   12/63 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   3/5 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            2.3697          -               -         
    agent_tier                2               -               -         
    required_fields           12/63           -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         
    confidence                0.0000          -               -         

  ğŸ’¡ GAP_ANALYZER Analysis:
    â€¢ Identified N/A performance gaps
    â€¢ Total opportunity value: 0.0000

  ğŸ“‹ Key Output Fields:
    executive_summary: Error: generator didn't stop after athrow()
    prioritized_opportunities: []
    quick_wins: []
    strategic_bets: []
    total_addressable_value: 0.0000
    total_gap_value: 0.0000
    ... and 9 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/5 passed
    â€¢ Required output fields: executive_summary
    â€¢ Failed checks:
      - Required fields percentage (19.0%) < minimum (40.0%)
      - Field 'executive_summary' contains error indicators: ['Error:']
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['confidence', 'requires_further_analysi...

  ------------------------------------------------------------
  âŒ RESULT: FAIL - gap_analyzer: Unknown error (2.4s)
  ------------------------------------------------------------
ğŸƒ View run cate_analysis_20260128_211403 at: http://localhost:5000/#/experiments/3/runs/1d27885753ce45f89306081741dc44d4
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/3

======================================================================
AGENT: HETEROGENEOUS_OPTIMIZER (Tier 2 - Causal Analytics)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Analyze heterogeneous treatment effects of hcp_eng...
    â€¢ treatment_var: hcp_engagement_frequency
    â€¢ outcome_var: trx_total
    â€¢ segment_vars_count: 2
    â€¢ effect_modifiers_count: 3
    â€¢ data_source: patient_journeys
    â€¢ filters: None

  âš™ï¸  Processing:
    âœ… Agent heterogeneous_optimizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (HeterogeneousOptimizerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 84 required fields
        Actual:   20/84 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 4 checks pass
        Actual:   3/4 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            5.0661          -               -         
    agent_tier                2               -               -         
    required_fields           20/84           -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         
    overall_ate               25.9281         -               -         
    heterogeneity_score       0.0739          -               -         
    confidence                0.8000          -               -         

  ğŸ’¡ HETEROGENEOUS_OPTIMIZER Analysis:
    â€¢ Heterogeneity score: 0.0739
    â€¢ Analyzed N/A patient segments

  ğŸ“‹ Key Output Fields:
    overall_ate: 25.9281
    heterogeneity_score: 0.0739
    executive_summary: Heterogeneous effect analysis complete. Overall treatment effect: 25.928. Limited heterogeneity dete...
    status: completed
    high_responders: []
    low_responders: []
    ... and 14 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/4 passed
    â€¢ Required output fields: status
    â€¢ Failed checks:
      - Required fields percentage (23.8%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - heterogeneous_optimizer: Unknown error (5.1s)
  ------------------------------------------------------------
ğŸƒ View run bold-bug-879 at: http://localhost:5000/#/experiments/7/runs/249c3db25cee44ea8e90940f8af52b18
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/7

======================================================================
AGENT: DRIFT_MONITOR (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ query: Detect data and model drift in patient features
    â€¢ features_to_monitor_count: 3
    â€¢ model_id: None
    â€¢ time_window: 30d
    â€¢ brand: Kisqali
    â€¢ significance_level: 0.05

  âš™ï¸  Processing:
    âœ… Agent drift_monitor instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (DriftMonitorState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 11 required fields
        Actual:   1/11 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 4 checks pass
        Actual:   3/4 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.1729          -               -         
    agent_tier                3               -               -         
    required_fields           1/11            -               -         
    optional_fields           12/24           -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ DRIFT_MONITOR Analysis:
    â€¢ Drift detected: N/A
    â€¢ Overall drift score: N/A

  ğŸ“‹ Key Output Fields:
    data_drift_results: []
    model_drift_results: []
    concept_drift_results: []
    overall_drift_score: 0.0000
    features_with_drift: []
    alerts: []
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/4 passed
    â€¢ Required output fields: overall_drift_score
    â€¢ Failed checks:
      - Required fields percentage (9.1%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - drift_monitor: Unknown error (1.2s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPERIMENT_DESIGNER (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ business_question: Does personalized HCP outreach improve patient ret...
    â€¢ constraints_keys: [4 items]
    â€¢ available_data_keys: [3 items]
    â€¢ preregistration_formality: medium
    â€¢ max_redesign_iterations: 2
    â€¢ enable_validity_audit: True
    â€¢ brand: Kisqali

  âš™ï¸  Processing:
    âœ… Agent experiment_designer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ExperimentDesignState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 9 required fields
        Actual:   1/9 present
    â€¢ Type validation: âŒ FAIL
        Expected: no type errors
        Actual:   1 type errors
    â€¢ Quality gate: âŒ FAIL
        Expected: 4 checks pass
        Actual:   3/4 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            37.4453         -               -         
    agent_tier                3               -               -         
    required_fields           1/9             -               -         
    optional_fields           16/58           -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ EXPERIMENT_DESIGNER Analysis:
    â€¢ Experiment design created with n=N/A
    â€¢ Statistical power: N/A

  ğŸ“‹ Key Output Fields:
    design_type: cluster_rct
    design_rationale: A cluster randomized trial reduces contamination risk and aligns with past successful experiments wh...
    treatments: [1 items]
    outcomes: [1 items]
    randomization_unit: cluster
    randomization_method: stratified
    ... and 14 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 3/4 passed
    â€¢ Required output fields: design_type
    â€¢ Failed checks:
      - Required fields percentage (11.1%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Type Errors:
    â€¢ design_type: expected Literal('RCT', 'quasi_experiment', 'difference_in_differences', 'regression_discontinuity', 'instrumental_variable', 'synthetic_control'), got 'cluster_rct'

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['preregistration_document', 'total_late...

  ------------------------------------------------------------
  âŒ RESULT: FAIL - experiment_designer: Unknown error (37.4s)
  ------------------------------------------------------------
ğŸƒ View run luminous-trout-669 at: http://localhost:5000/#/experiments/105/runs/98bcb69befaf439d9b5b2758ee1e088e
ğŸ§ª View experiment at: http://localhost:5000/#/experiments/105

======================================================================
AGENT: HEALTH_SCORE (Tier 3 - Monitoring)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ scope: full
    â€¢ query: Check system health status
    â€¢ experiment_name: tier0_e2e_f02125c7

  âš™ï¸  Processing:
    âœ… Agent health_score instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (HealthScoreState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 20 required fields
        Actual:   11/20 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.1981          -               -         
    agent_tier                3               -               -         
    required_fields           11/20           -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ HEALTH_SCORE Analysis:
    â€¢ System health: N/A
    â€¢ Overall health score: N/A

  ğŸ“‹ Key Output Fields:
    overall_health_score: 100.0000
    health_grade: A
    component_health_score: 1.0000
    model_health_score: 1.0000
    pipeline_health_score: 1.0000
    agent_health_score: 1.0000
    ... and 5 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 6/6 passed
    â€¢ Required output fields: overall_health_score
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - health_score completed successfully (0.2s)
  ------------------------------------------------------------

======================================================================
AGENT: PREDICTION_SYNTHESIZER (Tier 4 - ML Predictions)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ entity_id: 3591a720-0858-4e4b-acac-55cbd57d40b1
    â€¢ prediction_target: discontinuation_risk
    â€¢ features_keys: [3 items]
    â€¢ entity_type: patient
    â€¢ time_horizon: 30d
    â€¢ models_to_use: None
    â€¢ ensemble_method: weighted
    â€¢ include_context: True
    â€¢ query: Predict discontinuation risk for patient 3591a720-...
    â€¢ session_id: tier0_e2e_f02125c7

  âš™ï¸  Processing:
    âœ… Agent prediction_synthesizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âœ… Contract validation (PredictionSynthesizerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âœ… PASS
        Expected: 0 required fields
        Actual:   0/0 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   2/5 passed
    â€¢ Status check: âŒ FAIL
        Expected: no failure status
        Actual:   status=failed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.5864          -               -         
    agent_tier                4               -               -         
    required_fields           0/0             -               -         
    optional_fields           11/24           -               -         
    contract_valid            True            True            âœ…         

  ğŸ’¡ PREDICTION_SYNTHESIZER Analysis:
    â€¢ Synthesized prediction: N/A
    â€¢ Model agreement: N/A

  ğŸ“‹ Key Output Fields:
    status: failed
    ensemble_prediction: null
    individual_predictions: []
    prediction_context: null
    prediction_summary: Prediction could not be generated due to errors.
    models_succeeded: 0
    ... and 5 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 2/5 passed
    â€¢ Required output fields: status
    â€¢ âŒ Status failure: failed
    â€¢ Failed checks:
      - Required fields percentage (0.0%) < minimum (40.0%)
      - Field 'status' must not be 'failed'
      - Agent returned failure status: failed
    â€¢ QUALITY GATE: âŒ FAIL

  ------------------------------------------------------------
  âŒ RESULT: FAIL - prediction_synthesizer: Unknown error (0.6s)
  ------------------------------------------------------------

======================================================================
AGENT: RESOURCE_OPTIMIZER (Tier 4 - ML Predictions)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ allocation_targets_count: 4
    â€¢ constraints_count: 1
    â€¢ resource_type: budget
    â€¢ objective: maximize_roi
    â€¢ solver_type: linear
    â€¢ run_scenarios: False
    â€¢ scenario_count: 3
    â€¢ query: Optimize budget allocation across territories
    â€¢ session_id: tier0_e2e_f02125c7

  âš™ï¸  Processing:
    âœ… Agent resource_optimizer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ResourceOptimizerState)
    âœ… Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 30 required fields
        Actual:   15/30 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âœ… PASS
        Expected: 4 checks pass
        Actual:   4/4 passed
    â€¢ Overall result: âœ… PASS
        Expected: success
        Actual:   PASS

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            2.0655          -               -         
    agent_tier                4               -               -         
    required_fields           15/30           -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ RESOURCE_OPTIMIZER Analysis:
    â€¢ Optimization completed: N/A
    â€¢ Projected savings: N/A

  ğŸ“‹ Key Output Fields:
    status: completed
    optimal_allocations: [4 items]
      [0]: {'entity_id': 'territory_west', 'entity_type': 'territory', 'current_allocation': 50000.0, 'optimized_allocation': 100000.0}...
    objective_value: 1.0250
    solver_status: optimal
    projected_total_outcome: 1.0250
    projected_roi: 0.0000
    ... and 9 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/4 passed
    â€¢ Required output fields: status
    â€¢ QUALITY GATE: âœ… PASS

  ------------------------------------------------------------
  âœ… RESULT: PASS - resource_optimizer completed successfully (2.1s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPLAINER (Tier 5 - Self-Improvement)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ analysis_results_count: 3
    â€¢ query: Explain the discontinuation risk analysis results
    â€¢ user_expertise: analyst
    â€¢ output_format: structured
    â€¢ focus_areas_count: 2
    â€¢ session_id: tier0_e2e_f02125c7
    â€¢ memory_config_keys: [1 items]

  âš™ï¸  Processing:
    âœ… Agent explainer instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (ExplainerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 43 required fields
        Actual:   12/43 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   4/5 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.6997          -               -         
    agent_tier                5               -               -         
    required_fields           12/43           -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ EXPLAINER Analysis:
    â€¢ Generated N/A explanation
    â€¢ Summary: Analysis complete with 0 findings and 0 recommenda...

  ğŸ“‹ Key Output Fields:
    executive_summary: Analysis complete with 0 findings and 0 recommendations.
    status: completed
    detailed_explanation: 
    narrative_sections: []
    extracted_insights: []
    key_themes: ['Results should be interpreted with caution']
    ... and 7 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/5 passed
    â€¢ Required output fields: executive_summary
    â€¢ Failed checks:
      - Required fields percentage (27.9%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['timestamp']

  ------------------------------------------------------------
  âŒ RESULT: FAIL - explainer: Unknown error (1.7s)
  ------------------------------------------------------------

======================================================================
AGENT: FEEDBACK_LEARNER (Tier 5 - Self-Improvement)
======================================================================

  ğŸ“¥ Input Summary:
    â€¢ time_range_start: 2026-01-27T21:14:50.601630+00:00
    â€¢ time_range_end: 2026-01-28T21:14:50.601630+00:00
    â€¢ batch_id: batch_tier0_e2
    â€¢ focus_agents_count: 3

  âš™ï¸  Processing:
    âœ… Agent feedback_learner instantiated
    âœ… Input validation passed
    âœ… Agent execution completed
    âŒ Contract validation (FeedbackLearnerState)
    âŒ Quality gate validation

  ğŸ” Validation Checks:
    â€¢ Required fields present: âŒ FAIL
        Expected: 40 required fields
        Actual:   12/40 present
    â€¢ Type validation: âœ… PASS
        Expected: no type errors
        Actual:   all types valid
    â€¢ Quality gate: âŒ FAIL
        Expected: 5 checks pass
        Actual:   4/5 passed
    â€¢ Overall result: âŒ FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  ğŸ“Š Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0582          -               -         
    agent_tier                5               -               -         
    required_fields           12/40           -               -         
    optional_fields           0/0             -               -         
    contract_valid            False           True            âŒ         

  ğŸ’¡ FEEDBACK_LEARNER Analysis:
    â€¢ Learning cycle complete: Learning cycle complete. Processed 0 feedback item...
    â€¢ Improvements identified: N/A

  ğŸ“‹ Key Output Fields:
    learning_summary: Learning cycle complete. Processed 0 feedback items. Detected 0 patterns. Generated 0 recommendation...
    status: completed
    batch_id: batch_tier0_e2
    detected_patterns: []
    learning_recommendations: []
    priority_improvements: []
    ... and 13 more fields

  ğŸ“Š Quality Gate:
    â€¢ Checks: 4/5 passed
    â€¢ Required output fields: status
    â€¢ Failed checks:
      - Required fields percentage (30.0%) < minimum (40.0%)
    â€¢ QUALITY GATE: âŒ FAIL

  âš ï¸  Warnings (1):
    â€¢ Extra fields not in contract: ['feedback_count', 'pattern_count', 'rec...

  ------------------------------------------------------------
  âŒ RESULT: FAIL - feedback_learner: Unknown error (0.1s)
  ------------------------------------------------------------

======================================================================
TEST SUMMARY
======================================================================

TIER RESULTS:
------------------------------------------------------------

  Tier 1 - Orchestration: ALL FAILED
    âœ— orchestrator (630.9ms) - Unknown
    âœ— tool_composer (21.7ms) - Unknown

  Tier 2 - Causal Analytics: ALL FAILED
    âœ— causal_impact (7.39s) - Unknown
    âœ— gap_analyzer (2.37s) - Unknown
    âœ— heterogeneous_optimizer (5.07s) - Unknown

  Tier 3 - Monitoring: 1/3 PASSED
    âœ“ health_score (198.1ms)
    âœ— drift_monitor (1.17s) - Unknown
    âœ— experiment_designer (37.45s) - Unknown

  Tier 4 - ML Predictions: 1/2 PASSED
    âœ“ resource_optimizer (2.07s)
    âœ— prediction_synthesizer (586.4ms) - Unknown

  Tier 5 - Self-Improvement: ALL FAILED
    âœ— explainer (1.70s) - Unknown
    âœ— feedback_learner (58.2ms) - Unknown

------------------------------------------------------------

OVERALL: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 16.7%
  Total Agents: 12
  Passed: 2
  Failed: 10
  Total Time: 71.19s
  Avg Time/Agent: 5.93s

FAILED AGENTS:
------------------------------------------------------------
  âŒ orchestrator (Tier 1)
     Error: Contract validation failed
  âŒ tool_composer (Tier 1)
     Error: Contract validation failed
  âŒ causal_impact (Tier 2)
     Error: Contract validation failed
  âŒ gap_analyzer (Tier 2)
     Error: Contract validation failed
  âŒ heterogeneous_optimizer (Tier 2)
     Error: Contract validation failed
  âŒ drift_monitor (Tier 3)
     Error: Contract validation failed
  âŒ experiment_designer (Tier 3)
     Error: Contract validation failed
  âŒ prediction_synthesizer (Tier 4)
     Error: Contract validation failed
  âŒ explainer (Tier 5)
     Error: Contract validation failed
  âŒ feedback_learner (Tier 5)
     Error: Contract validation failed

QUALITY GATES:
  Passed: 2/12
  Failed: 10/12
  Status Failures: 2 (agents returned error/failed status)

  Quality Gate Failures:
    â€¢ orchestrator: Required fields percentage (0.0%) < minimum (50.0%
    â€¢ tool_composer: status=success=False
    â€¢ causal_impact: Required fields percentage (12.5%) < minimum (40.0
    â€¢ gap_analyzer: Required fields percentage (19.0%) < minimum (40.0
    â€¢ heterogeneous_optimizer: Required fields percentage (23.8%) < minimum (40.0
    â€¢ drift_monitor: Required fields percentage (9.1%) < minimum (40.0%
    â€¢ experiment_designer: Required fields percentage (11.1%) < minimum (40.0
    â€¢ prediction_synthesizer: status=failed
    â€¢ explainer: Required fields percentage (27.9%) < minimum (40.0
    â€¢ feedback_learner: Required fields percentage (30.0%) < minimum (40.0

CONTRACT VALIDATION:
  Valid Contracts: 2/12
  Total Type Errors: 1

OBSERVABILITY:
  Traces Created: 0
  Traces Verified: 0
```
