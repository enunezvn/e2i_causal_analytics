# Tier 1-5 Agent Test Results

**Generated**: 2026-01-29T16:47:15.812149

## Test Configuration

- **Tiers Tested**: all (1-5)
- **Agents Tested**: all
- **Tier0 Cache**: auto-generated
- **Observability**: skipped
- **Timeout**: 30.0s per agent

## Results

```

======================================================================
TIER 1-5 AGENT TESTING FRAMEWORK
======================================================================
  Loading tier0 state from cache: /home/enunez/Projects/e2i_causal_analytics/scripts/tier0_output_cache/latest.pkl
Tier0 Experiment ID: tier0_e2e_955d1184
Data Source Validation: Enabled
Agents to Test: 12
Agents: orchestrator, tool_composer, causal_impact, gap_analyzer, heterogeneous_optimizer, drift_monitor, experiment_designer, health_score, prediction_synthesizer, resource_optimizer, explainer, feedback_learner

Tier0 Data:
  eligible_df: 600 rows x 14 columns
  trained_model: LogisticRegression
  validation_metrics: ['accuracy', 'precision', 'recall', 'f1_score', 'f1_macro', 'f1_weighted', 'precision_class_0', 'precision_class_1', 'recall_class_0', 'recall_class_1', 'roc_auc', 'pr_auc', 'brier_score']

======================================================================
AGENT: ORCHESTRATOR (Tier 1 - Orchestration)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: What factors drive therapy discontinuation for Kisqali?
    ‚Ä¢ messages_count: 1
    ‚Ä¢ current_agent: None
    ‚Ä¢ agent_outputs_keys: [0 items]
    ‚Ä¢ experiment_id: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent orchestrator instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (OrchestratorState)
    ‚ùå Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 0 required fields
        Actual:   0/0 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚ùå FAIL
        Expected: 8 checks pass
        Actual:   7/8 passed
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.5017          -               -         
    agent_tier                1               -               -         
    required_fields           0/0             -               -         
    optional_fields           16/49           -               -         
    contract_valid            True            True            ‚úÖ         

  üí° ORCHESTRATOR Analysis:
    ‚Ä¢ Query routed to 2 agents
    ‚Ä¢ Routing confidence: 0.8700

  üìã Key Output Fields:
    status: completed
    query_id: q-7f45f5e98850
    response_text: Analysis shows that HCP engagement has a significant positive effect on patient conversion (ATE=0.12, p<0.01).
    response_confidence: 0.8700
    agents_dispatched: ['causal_impact', 'causal_impact']
    successful_agents: ['causal_impact', 'causal_impact']
    ... and 20 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 7/8 passed
    ‚Ä¢ Required output fields: status, response_text
    ‚Ä¢ Failed checks:
      - Semantic validation failed: Duplicate agents dispatched: ['causal_impact'] - orchestrator should not dispatch the same agent twice
    ‚Ä¢ QUALITY GATE: ‚ùå FAIL

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['response_text', 'successful_agents', 'failed_agents', 'has_partial_failure', 'failure_details', 'orchestrator_error', 'orchestrator_error_type', 'timestamp', 'intent_classified', 'intent_confidence']

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - orchestrator: Unknown error (1.5s)
  ------------------------------------------------------------

======================================================================
AGENT: TOOL_COMPOSER (Tier 1 - Orchestration)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Compare the causal impact of HCP visits vs prior treatments on discontinuation for Kisqali, and identify high-risk segments
    ‚Ä¢ experiment_id: tier0_e2e_955d1184
    ‚Ä¢ available_tools_count: 4

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent tool_composer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ToolComposerState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 3 required fields
        Actual:   3/3 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 6 checks pass
        Actual:   6/6 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            25.2987         -               -         
    agent_tier                1               -               -         
    required_fields           3/3             -               -         
    optional_fields           10/35           -               -         
    contract_valid            True            True            ‚úÖ         
    confidence                0.8500          -               -         

  üí° TOOL_COMPOSER Analysis:
    ‚Ä¢ Composed N/A tools for query execution
    ‚Ä¢ Execution plan generated successfully

  üìã Key Output Fields:
    status: SUCCESS
    success: True
    response: The analysis indicates that both HCP visits and prior treatments have an equivalent causal impact on the discontinuation of Kisqali, with an average treatment effect (ATE) of 0.12. This effect is statistically significant, as evidenced by a p-value of 0.001 and a confidence interval ranging from 0.08 to 0.16. Additionally, high-risk segments for discontinuation have been identified, with entity E001 being classified as high risk with a score of 0.82. These insights suggest that both factors are equally influential in discontinuation rates, and targeted interventions could be beneficial for high-risk groups.
    confidence: 0.8500
    composition_id: comp_fcb092ec
    sub_questions_count: 4
    ... and 10 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 6/6 passed
    ‚Ä¢ Required output fields: success
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['sub_questions_count', 'total_duration_ms', 'metadata']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - tool_composer completed successfully (25.3s)
  ------------------------------------------------------------

======================================================================
AGENT: CAUSAL_IMPACT (Tier 2 - Causal Analytics)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: What is the causal effect of hcp_visits on discontinuation_flag?
    ‚Ä¢ query_id: b869aff2-5231-4c22-9715-bf725a7d7261
    ‚Ä¢ treatment_var: hcp_visits
    ‚Ä¢ outcome_var: discontinuation_flag
    ‚Ä¢ confounders_count: 5
    ‚Ä¢ data_source: patient_journeys
    ‚Ä¢ experiment_id: tier0_e2e_955d1184
    ‚Ä¢ data_rows: 600
    ‚Ä¢ data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent causal_impact instantiated
    ‚úÖ Input validation passed
    ‚ùå Agent execution completed

  üîç Validation Checks:
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: Agent execution timed out after 30.0s

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            30.0000         -               -         
    agent_tier                2               -               -         

  üö® Error Details:
    Agent execution timed out after 30.0s

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - causal_impact: Agent execution timed out after 30.0s (30.0s)
  ------------------------------------------------------------

======================================================================
AGENT: GAP_ANALYZER (Tier 2 - Causal Analytics)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Identify performance gaps and ROI opportunities
    ‚Ä¢ metrics_count: 3
    ‚Ä¢ segments_count: 3
    ‚Ä¢ brand: Kisqali
    ‚Ä¢ time_period: current_quarter
    ‚Ä¢ gap_type: vs_potential
    ‚Ä¢ tier0_data_rows: 600
    ‚Ä¢ tier0_data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent gap_analyzer instantiated
    ‚úÖ Input validation passed
    ‚ùå Agent execution completed

  üîç Validation Checks:
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: Agent execution timed out after 30.0s

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            30.0000         -               -         
    agent_tier                2               -               -         

  üö® Error Details:
    Agent execution timed out after 30.0s

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - gap_analyzer: Agent execution timed out after 30.0s (30.0s)
  ------------------------------------------------------------

======================================================================
AGENT: HETEROGENEOUS_OPTIMIZER (Tier 2 - Causal Analytics)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Analyze heterogeneous treatment effects of hcp_visits
    ‚Ä¢ treatment_var: hcp_visits
    ‚Ä¢ outcome_var: discontinuation_flag
    ‚Ä¢ segment_vars_count: 0
    ‚Ä¢ effect_modifiers_count: 3
    ‚Ä¢ data_source: patient_journeys
    ‚Ä¢ filters: None
    ‚Ä¢ tier0_data_rows: 600
    ‚Ä¢ tier0_data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent heterogeneous_optimizer instantiated
    ‚úÖ Input validation passed
    ‚ùå Agent execution completed

  üîç Validation Checks:
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: Agent execution timed out after 30.0s

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            30.0000         -               -         
    agent_tier                2               -               -         

  üö® Error Details:
    Agent execution timed out after 30.0s

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - heterogeneous_optimizer: Agent execution timed out after 30.0s (30.0s)
  ------------------------------------------------------------

======================================================================
AGENT: DRIFT_MONITOR (Tier 3 - Monitoring)
======================================================================

  üì• Input Summary:
    ‚Ä¢ query: Detect data and model drift in patient features
    ‚Ä¢ features_to_monitor_count: 10
    ‚Ä¢ model_id: tier0_e2e_955d1184
    ‚Ä¢ time_window: 30d
    ‚Ä¢ brand: Kisqali
    ‚Ä¢ significance_level: 0.05
    ‚Ä¢ tier0_data_rows: 600
    ‚Ä¢ tier0_data_columns: 14

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent drift_monitor instantiated
    ‚úÖ Input validation passed
    ‚ùå Agent execution completed

  üîç Validation Checks:
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: RuntimeError: Drift detection workflow f

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            492.7770        -               -         
    agent_tier                3               -               -         

  üö® Error Details:
    RuntimeError: Drift detection workflow failed: API request to http://localhost:5000/api/2.0/mlflow/runs/create failed with exception HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError("HTTPConnection(host='localhost', port=5000): Failed to establish a new connection: [Errno 111] Connection refused"))
    Traceback (last 3 lines):
        File "/home/enunez/Projects/e2i_causal_analytics/src/agents/drift_monitor/agent.py", line 297, in run
          raise RuntimeError(f"Drift detection workflow failed: {str(e)}") from e
      RuntimeError: Drift detection workflow failed: API request to http://localhost:5000/api/2.0/mlflow/runs/create failed with exception HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError("HTTPConnection(host='localhost', port=5000): Failed to establish a new connection: [Errno 111] Connection refused"))

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - drift_monitor: RuntimeError: Drift detection workflow failed: API request to http://localhost:5000/api/2.0/mlflow/runs/create failed with exception HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError("HTTPConnection(host='localhost', port=5000): Failed to establish a new connection: [Errno 111] Connection refused")) (492.8s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPERIMENT_DESIGNER (Tier 3 - Monitoring)
======================================================================

  üì• Input Summary:
    ‚Ä¢ business_question: Does personalized HCP outreach improve patient retention rates compared to standard outreach?
    ‚Ä¢ constraints_keys: [4 items]
    ‚Ä¢ available_data_keys: [3 items]
    ‚Ä¢ preregistration_formality: medium
    ‚Ä¢ max_redesign_iterations: 2
    ‚Ä¢ enable_validity_audit: True
    ‚Ä¢ brand: Kisqali

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent experiment_designer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ExperimentDesignState)
    ‚úÖ Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 9 required fields
        Actual:   9/9 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚úÖ PASS
        Expected: 5 checks pass
        Actual:   5/5 passed
    ‚Ä¢ Overall result: ‚úÖ PASS
        Expected: success
        Actual:   PASS

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            28.3022         -               -         
    agent_tier                3               -               -         
    required_fields           9/9             -               -         
    optional_fields           14/62           -               -         
    contract_valid            True            True            ‚úÖ         
    statistical_power         0.8000          -               -         

  üí° EXPERIMENT_DESIGNER Analysis:
    ‚Ä¢ Experiment design created with n=6124
    ‚Ä¢ Statistical power: 0.8000

  üìã Key Output Fields:
    status: completed
    design_type: cluster_rct
    design_rationale: A cluster RCT minimizes contamination risk and aligns with organizational structure, allowing for clear causal inference while managing operational constraints.
    treatments: [1 items]
    outcomes: [1 items]
    randomization_unit: geography
    ... and 19 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/5 passed
    ‚Ä¢ Required output fields: design_type
    ‚Ä¢ QUALITY GATE: ‚úÖ PASS

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['preregistration_document', 'redesign_iterations']

  ------------------------------------------------------------
  ‚úÖ RESULT: PASS - experiment_designer completed successfully (28.3s)
  ------------------------------------------------------------

======================================================================
AGENT: HEALTH_SCORE (Tier 3 - Monitoring)
======================================================================

  üì• Input Summary:
    ‚Ä¢ scope: full
    ‚Ä¢ query: Check system health status
    ‚Ä¢ experiment_name: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent health_score instantiated
    ‚úÖ Input validation passed
    ‚ùå Agent execution completed

  üîç Validation Checks:
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: Agent execution timed out after 30.0s

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            30.0000         -               -         
    agent_tier                3               -               -         

  üö® Error Details:
    Agent execution timed out after 30.0s

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - health_score: Agent execution timed out after 30.0s (30.0s)
  ------------------------------------------------------------

======================================================================
AGENT: PREDICTION_SYNTHESIZER (Tier 4 - ML Predictions)
======================================================================

  üì• Input Summary:
    ‚Ä¢ entity_id: c03446e5-140f-4595-8b74-fdcf4baf21d5
    ‚Ä¢ prediction_target: discontinuation_risk
    ‚Ä¢ features_keys: [5 items]
    ‚Ä¢ entity_type: patient
    ‚Ä¢ time_horizon: 30d
    ‚Ä¢ models_to_use: None
    ‚Ä¢ ensemble_method: weighted
    ‚Ä¢ include_context: True
    ‚Ä¢ query: Predict discontinuation risk for patient c03446e5-140f-4595-8b74-fdcf4baf21d5
    ‚Ä¢ session_id: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent prediction_synthesizer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (PredictionSynthesizerState)
    ‚ùå Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 4 required fields
        Actual:   4/4 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚ùå FAIL
        Expected: 6 checks pass
        Actual:   5/6 passed
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.0499          -               -         
    agent_tier                4               -               -         
    required_fields           4/4             -               -         
    optional_fields           7/21            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° PREDICTION_SYNTHESIZER Analysis:
    ‚Ä¢ Prediction summary: Prediction: 0.000 (95% CI: [-0.100, 0.100]). Confidence: low. Model agreement: weak across 1 models.

Risk Assessment: CANNOT_ASSESS
Recommendation: CAUTION: Single-model prediction requires validation before action
    ‚Ä¢ Models succeeded: 1

  üìã Key Output Fields:
    status: completed
    ensemble_prediction: {dict with 6 keys}
      point_estimate: 0.0000
      prediction_interval_lower: -0.1000
      prediction_interval_upper: 0.1000
      ... and 3 more keys
    individual_predictions: [1 items]
      [0]: {'model_id': 'tier0_e2e_955d1184', 'model_type': 'logistic_regression', 'prediction': 0.0, 'prediction_proba': [1.0, 8.129844581190762e-30]}... (+3 more keys)
    prediction_context:
      similar_cases: [0 items]
      feature_importance: {dict with 0 keys}
      historical_accuracy: 0.0000
      trend_direction: stable
    prediction_summary:
      Prediction: 0.000 (95% CI: [-0.100, 0.100]). Confidence: low. Model agreement: weak across 1 models.
      
      Risk Assessment: CANNOT_ASSESS
      Recommendation: CAUTION: Single-model prediction requires validation before action
    models_succeeded: 1
    ... and 5 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/6 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ Failed checks:
      - Semantic validation failed: CANNOT_ASSESS in prediction output - agent unable to produce useful predictions
    ‚Ä¢ QUALITY GATE: ‚ùå FAIL

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - prediction_synthesizer: Unknown error (0.0s)
  ------------------------------------------------------------

======================================================================
AGENT: RESOURCE_OPTIMIZER (Tier 4 - ML Predictions)
======================================================================

  üì• Input Summary:
    ‚Ä¢ allocation_targets_count: 4
    ‚Ä¢ constraints_count: 1
    ‚Ä¢ resource_type: budget
    ‚Ä¢ objective: maximize_roi
    ‚Ä¢ solver_type: linear
    ‚Ä¢ run_scenarios: False
    ‚Ä¢ scenario_count: 3
    ‚Ä¢ query: Optimize budget allocation across territories
    ‚Ä¢ session_id: tier0_e2e_955d1184

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent resource_optimizer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ResourceOptimizerState)
    ‚ùå Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 7 required fields
        Actual:   7/7 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚ùå FAIL
        Expected: 5 checks pass
        Actual:   4/5 passed
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            3.3327          -               -         
    agent_tier                4               -               -         
    required_fields           7/7             -               -         
    optional_fields           8/23            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° RESOURCE_OPTIMIZER Analysis:
    ‚Ä¢ Optimization completed: Optimization complete. Projected outcome: 51250 (ROI: 0.01). Recommended changes: 1 increases, 2 decreases.
    ‚Ä¢ Projected ROI: 0.0063

  üìã Key Output Fields:
    status: completed
    optimal_allocations: [4 items]
      [0]: {'entity_id': 'territory_west', 'entity_type': 'territory', 'current_allocation': 50000.0, 'optimized_allocation': 100000.0}... (+3 more keys)
    objective_value: 1.0250
    solver_status: optimal
    projected_total_outcome: 51250.0000
    projected_roi: 0.0063
    ... and 9 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 4/5 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ Failed checks:
      - Semantic validation failed: Projected ROI of 0.62% is below 5% threshold - optimization produced negligible value
    ‚Ä¢ QUALITY GATE: ‚ùå FAIL

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - resource_optimizer: Unknown error (3.3s)
  ------------------------------------------------------------

======================================================================
AGENT: EXPLAINER (Tier 5 - Self-Improvement)
======================================================================

  üì• Input Summary:
    ‚Ä¢ analysis_results_count: 3
    ‚Ä¢ query: Explain the discontinuation risk analysis results
    ‚Ä¢ user_expertise: analyst
    ‚Ä¢ output_format: structured
    ‚Ä¢ focus_areas_count: 2
    ‚Ä¢ session_id: tier0_e2e_955d1184
    ‚Ä¢ memory_config_keys: [1 items]

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent explainer instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (ExplainerState)
    ‚ùå Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 6 required fields
        Actual:   6/6 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚ùå FAIL
        Expected: 6 checks pass
        Actual:   5/6 passed
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            1.8927          -               -         
    agent_tier                5               -               -         
    required_fields           6/6             -               -         
    optional_fields           6/37            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° EXPLAINER Analysis:
    ‚Ä¢ Executive summary: Analysis complete with 9 findings and 3 recommendations.
    ‚Ä¢ Key themes: 2

  üìã Key Output Fields:
    executive_summary: Analysis complete with 9 findings and 3 recommendations.
    status: completed
    detailed_explanation:
      ## Key Findings
      - Significant causal effect identified: ATE=0.127 (p=0.0023)
      - Effect is statistically significant with 95% CI [0.089, 0.165]
      - Treatment (hcp_visits) increases outcome by 12.7% on average
      - Key confounders controlled: geographic_region, journey_status, journey_start_date
      - Model accuracy: 0.6583333333333333
      - ROC-AUC score: 0.7819015846538782
      - Precision: 0.1590909090909091, Recall: 0.6363636363636364
      - F1 score: 0.2545454545454545
      - No feature importance data available
      ... (5 more lines)
    narrative_sections: [2 items]
      [0]: {'section_type': 'finding', 'title': 'Key Findings', 'content': '- Significant causal effect identified: ATE=0.127 (p=0.0023)\n- Effect is statistically significant with 95% CI [0.089, 0.165]\n- Treatment (hcp_visits) increases outcome by 12.7% on average\n- Key confounders controlled: geographic_region, journey_status, journey_start_date\n- Model accuracy: 0.6583333333333333\n- ROC-AUC score: 0.7819015846538782\n- Precision: 0.1590909090909091, Recall: 0.6363636363636364\n- F1 score: 0.2545454545454545\n- No feature importance data available', 'supporting_data': {'count': 9}}
    extracted_insights: [12 items]
      [0]: {'insight_id': '1', 'category': 'finding', 'statement': 'Significant causal effect identified: ATE=0.127 (p=0.0023)', 'supporting_evidence': ['Source: causal_impact']}... (+3 more keys)
    key_themes: ['Analysis revealed 9 key findings', '3 actionable recommendations identified']
    ... and 7 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/6 passed
    ‚Ä¢ Required output fields: executive_summary
    ‚Ä¢ Failed checks:
      - Semantic validation failed: Executive summary is a meta-description, not an actual explanation: 'Analysis complete with 9 findings and 3 recommendations....'
    ‚Ä¢ QUALITY GATE: ‚ùå FAIL

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['timestamp']

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - explainer: Unknown error (1.9s)
  ------------------------------------------------------------

======================================================================
AGENT: FEEDBACK_LEARNER (Tier 5 - Self-Improvement)
======================================================================

  üì• Input Summary:
    ‚Ä¢ time_range_start: 2026-01-28T21:47:15.463836+00:00
    ‚Ä¢ time_range_end: 2026-01-29T21:47:15.463836+00:00
    ‚Ä¢ batch_id: batch_tier0_e2
    ‚Ä¢ focus_agents_count: 3

  ‚öôÔ∏è  Processing:
    ‚úÖ Agent feedback_learner instantiated
    ‚úÖ Input validation passed
    ‚úÖ Agent execution completed
    ‚úÖ Contract validation (FeedbackLearnerState)
    ‚ùå Quality gate validation

  üîç Validation Checks:
    ‚Ä¢ Required fields present: ‚úÖ PASS
        Expected: 4 required fields
        Actual:   4/4 present
    ‚Ä¢ Type validation: ‚úÖ PASS
        Expected: no type errors
        Actual:   all types valid
    ‚Ä¢ Quality gate: ‚ùå FAIL
        Expected: 6 checks pass
        Actual:   5/6 passed
    ‚Ä¢ Overall result: ‚ùå FAIL
        Expected: success
        Actual:   FAIL: quality gate failed

  üìä Key Metrics:
    Metric                    Value           Threshold       Status    
    -----------------------------------------------------------------
    execution_time            0.1610          -               -         
    agent_tier                5               -               -         
    required_fields           4/4             -               -         
    optional_fields           8/36            -               -         
    contract_valid            True            True            ‚úÖ         

  üí° FEEDBACK_LEARNER Analysis:
    ‚Ä¢ Learning summary: Learning cycle complete. Processed 0 feedback items. Detected 0 patterns. Generated 0 recommendations. Applied 0 of 0 proposed updates.
    ‚Ä¢ Patterns detected: 0

  üìã Key Output Fields:
    learning_summary: Learning cycle complete. Processed 0 feedback items. Detected 0 patterns. Generated 0 recommendations. Applied 0 of 0 proposed updates.
    status: completed
    batch_id: batch_tier0_e2
    detected_patterns: []
    learning_recommendations: []
    priority_improvements: []
    ... and 13 more fields

  üìä Quality Gate:
    ‚Ä¢ Checks: 5/6 passed
    ‚Ä¢ Required output fields: status
    ‚Ä¢ Failed checks:
      - Semantic validation failed: Completed with 0 items processed, 0 patterns, 0 recommendations - no learning occurred
    ‚Ä¢ QUALITY GATE: ‚ùå FAIL

  ‚ö†Ô∏è  Warnings (1):
    ‚Ä¢ Extra fields not in contract: ['feedback_count', 'pattern_count', 'recommendation_count', 'timestamp', 'training_reward', 'cognitive_context_used', 'dspy_available']

  ------------------------------------------------------------
  ‚ùå RESULT: FAIL - feedback_learner: Unknown error (0.2s)
  ------------------------------------------------------------

======================================================================
TEST SUMMARY
======================================================================

TIER RESULTS:
------------------------------------------------------------

  Tier 1 - Orchestration: 1/2 PASSED
    ‚úì tool_composer (25.30s)
    ‚úó orchestrator (1.50s) - Unknown

  Tier 2 - Causal Analytics: ALL FAILED
    ‚úó causal_impact (30.00s) - Agent execution timed out after 30.0s
    ‚úó gap_analyzer (30.00s) - Agent execution timed out after 30.0s
    ‚úó heterogeneous_optimizer (30.00s) - Agent execution timed out after 30.0s

  Tier 3 - Monitoring: 1/3 PASSED
    ‚úì experiment_designer (28.30s)
    ‚úó drift_monitor (492.78s) - RuntimeError: Drift detection workflow f
    ‚úó health_score (30.00s) - Agent execution timed out after 30.0s

  Tier 4 - ML Predictions: ALL FAILED
    ‚úó prediction_synthesizer (49.9ms) - Unknown
    ‚úó resource_optimizer (3.33s) - Unknown

  Tier 5 - Self-Improvement: ALL FAILED
    ‚úó explainer (1.89s) - Unknown
    ‚úó feedback_learner (161.0ms) - Unknown

------------------------------------------------------------

OVERALL: [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 16.7%
  Total Agents: 12
  Passed: 2
  Failed: 10
  Total Time: 1555.24s
  Avg Time/Agent: 129.60s

FAILED AGENTS:
------------------------------------------------------------
  ‚ùå orchestrator (Tier 1)
     Error: Contract validation failed
  ‚ùå causal_impact (Tier 2)
     Error: Agent execution timed out after 30.0s
  ‚ùå gap_analyzer (Tier 2)
     Error: Agent execution timed out after 30.0s
  ‚ùå heterogeneous_optimizer (Tier 2)
     Error: Agent execution timed out after 30.0s
  ‚ùå drift_monitor (Tier 3)
     Error: RuntimeError: Drift detection workflow failed: API request to http://localhost:5000/api/2.0/mlflow/runs/create failed with exception HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError("HTTPConnection(host='localhost', port=5000): Failed to establish a new connection: [Errno 111] Connection refused"))
     Last line: RuntimeError: Drift detection workflow failed: API request to http://localhost:5000/api/2.0/mlflow/runs/create failed with exception HTTPConnectionPool(host='localhost', port=5000): Max retries exceeded with url: /api/2.0/mlflow/runs/create (Caused by NewConnectionError("HTTPConnection(host='localhost', port=5000): Failed to establish a new connection: [Errno 111] Connection refused"))
  ‚ùå health_score (Tier 3)
     Error: Agent execution timed out after 30.0s
  ‚ùå prediction_synthesizer (Tier 4)
     Error: Contract validation failed
  ‚ùå resource_optimizer (Tier 4)
     Error: Contract validation failed
  ‚ùå explainer (Tier 5)
     Error: Contract validation failed
  ‚ùå feedback_learner (Tier 5)
     Error: Contract validation failed

QUALITY GATES:
  Passed: 2/12
  Failed: 5/12

  Quality Gate Failures:
    ‚Ä¢ orchestrator: Semantic validation failed: Duplicate agents dispatched: ['causal_impact'] - orchestrator should not dispatch the same agent twice
    ‚Ä¢ prediction_synthesizer: Semantic validation failed: CANNOT_ASSESS in prediction output - agent unable to produce useful predictions
    ‚Ä¢ resource_optimizer: Semantic validation failed: Projected ROI of 0.62% is below 5% threshold - optimization produced negligible value
    ‚Ä¢ explainer: Semantic validation failed: Executive summary is a meta-description, not an actual explanation: 'Analysis complete with 9 findings and 3 recommendations....'
    ‚Ä¢ feedback_learner: Semantic validation failed: Completed with 0 items processed, 0 patterns, 0 recommendations - no learning occurred

CONTRACT VALIDATION:
  Valid Contracts: 7/12
  Total Type Errors: 0

OBSERVABILITY:
  Traces Created: 0
  Traces Verified: 0
```
